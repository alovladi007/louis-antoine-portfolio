<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mixed-Precision Photonic Computing Platform - Louis Antoine</title>
    
    <!-- Advanced Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.11.0/math.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-2.18.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        /* Enhanced Photonic Computing Styles */
        .photonic-hero {
            background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 50%, #0f1629 100%);
            padding: 80px 0;
            position: relative;
            overflow: hidden;
        }
        
        .photonic-hero::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(0,255,136,0.1) 0%, transparent 70%);
            animation: pulse 4s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 0.5; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }
        
        .simulator-container {
            background: rgba(0,0,0,0.4);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid rgba(0,255,136,0.2);
            margin: 30px 0;
        }
        
        .control-panel {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .control-card {
            background: rgba(255,255,255,0.03);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(0,255,136,0.1);
            transition: all 0.3s ease;
        }
        
        .control-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,255,136,0.2);
            border-color: rgba(0,255,136,0.3);
        }
        
        .control-card h3 {
            color: #00ff88;
            margin-bottom: 20px;
            font-size: 1.3em;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .control-card h3 i {
            font-size: 0.9em;
            opacity: 0.8;
        }
        
        .slider-group {
            margin-bottom: 20px;
        }
        
        .slider-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            color: #00aaff;
            font-weight: 500;
        }
        
        .custom-slider {
            width: 100%;
            height: 8px;
            background: linear-gradient(to right, #00ff88 0%, #00aaff 100%);
            border-radius: 4px;
            outline: none;
            -webkit-appearance: none;
            position: relative;
        }
        
        .custom-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 24px;
            height: 24px;
            background: radial-gradient(circle, #00ff88, #00aaff);
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 15px rgba(0,255,136,0.6);
            transition: all 0.3s ease;
        }
        
        .custom-slider::-webkit-slider-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 0 25px rgba(0,255,136,0.9);
        }
        
        .value-badge {
            display: inline-block;
            padding: 4px 12px;
            background: rgba(0,255,136,0.1);
            border: 1px solid rgba(0,255,136,0.3);
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9em;
        }
        
        .metric-display {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .metric-item {
            background: rgba(0,0,0,0.3);
            padding: 15px;
            border-radius: 10px;
            border-left: 3px solid #00ff88;
            transition: all 0.3s ease;
        }
        
        .metric-item:hover {
            background: rgba(0,0,0,0.5);
            transform: translateX(5px);
        }
        
        .metric-label {
            color: #888;
            font-size: 0.85em;
            margin-bottom: 5px;
        }
        
        .metric-value {
            color: #00ff88;
            font-size: 1.3em;
            font-weight: bold;
        }
        
        .visualization-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .viz-tab {
            padding: 12px 24px;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        .viz-tab.active {
            background: linear-gradient(45deg, #00ff88, #00aaff);
            color: #0a0e27;
            font-weight: bold;
            transform: scale(1.05);
        }
        
        .viz-tab:hover:not(.active) {
            background: rgba(255,255,255,0.1);
            transform: translateY(-2px);
        }
        
        .chart-container {
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
            min-height: 400px;
        }
        
        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 25px;
            flex-wrap: wrap;
        }
        
        .action-btn {
            padding: 12px 30px;
            background: linear-gradient(45deg, #00ff88, #00aaff);
            color: #0a0e27;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,255,136,0.3);
        }
        
        .action-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 25px rgba(0,255,136,0.5);
        }
        
        .action-btn.secondary {
            background: rgba(255,255,255,0.1);
            color: #00ff88;
            border: 1px solid rgba(0,255,136,0.3);
        }
        
        .progress-indicator {
            width: 100%;
            height: 40px;
            background: rgba(0,0,0,0.5);
            border-radius: 20px;
            overflow: hidden;
            margin-top: 20px;
            position: relative;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00ff88, #00aaff);
            width: 0%;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #0a0e27;
            font-weight: bold;
            position: relative;
            overflow: hidden;
        }
        
        .progress-fill::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            100% { left: 100%; }
        }
        
        .architecture-3d {
            width: 100%;
            height: 600px;
            border-radius: 15px;
            overflow: hidden;
            margin: 30px 0;
        }
        
        .code-viewer {
            background: #1e1e1e;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            overflow-x: auto;
        }
        
        .performance-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .perf-card {
            background: linear-gradient(135deg, rgba(0,255,136,0.1), rgba(0,170,255,0.1));
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            border: 1px solid rgba(0,255,136,0.2);
            transition: all 0.3s ease;
        }
        
        .perf-card:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(0,255,136,0.3);
        }
        
        .perf-card .icon {
            font-size: 3em;
            margin-bottom: 15px;
            background: linear-gradient(45deg, #00ff88, #00aaff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .perf-card .value {
            font-size: 2.5em;
            font-weight: bold;
            color: #00ff88;
            margin-bottom: 10px;
        }
        
        .perf-card .label {
            color: #888;
            font-size: 1.1em;
        }
        
        .material-selector {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 20px 0;
        }
        
        .material-option {
            padding: 15px;
            background: rgba(255,255,255,0.05);
            border: 2px solid rgba(255,255,255,0.1);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }
        
        .material-option.selected {
            background: rgba(0,255,136,0.2);
            border-color: #00ff88;
            transform: scale(1.05);
        }
        
        .material-option:hover {
            background: rgba(255,255,255,0.1);
        }
        
        .material-name {
            font-weight: bold;
            color: #00aaff;
            margin-bottom: 5px;
        }
        
        .material-props {
            font-size: 0.85em;
            color: #888;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .control-panel {
                grid-template-columns: 1fr;
            }
            
            .performance-grid {
                grid-template-columns: 1fr;
            }
            
            .material-selector {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <a href="index.html" class="logo">LA</a>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link">Home</a></li>
                <li><a href="index.html#projects" class="nav-link">Projects</a></li>
                <li><a href="additional-projects.html" class="nav-link">All Projects</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="photonic-hero">
        <div class="container">
            <div class="back-link">
                <a href="additional-projects.html"><i class="fas fa-arrow-left"></i> Back to Projects</a>
            </div>
            
            <div class="detail-header">
                <h1 style="font-size: 3em; background: linear-gradient(45deg, #00ff88, #00aaff); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                    Mixed-Precision Photonic Computing Platform
                </h1>
                <p style="font-size: 1.3em; color: #b0b0b0; margin-top: 20px;">
                    Revolutionary Phase Change Material Enhanced Ring Resonators for Ultra-Fast PDE Solving
                </p>
            </div>

            <!-- Key Performance Metrics -->
            <div class="performance-grid">
                <div class="perf-card">
                    <div class="icon"><i class="fas fa-microchip"></i></div>
                    <div class="value">327</div>
                    <div class="label">TeraOPS</div>
                </div>
                <div class="perf-card">
                    <div class="icon"><i class="fas fa-bolt"></i></div>
                    <div class="value">0.8</div>
                    <div class="label">W/PetaOPS</div>
                </div>
                <div class="perf-card">
                    <div class="icon"><i class="fas fa-memory"></i></div>
                    <div class="value">12.5</div>
                    <div class="label">Bit Precision</div>
                </div>
                <div class="perf-card">
                    <div class="icon"><i class="fas fa-tachometer-alt"></i></div>
                    <div class="value">10</div>
                    <div class="label">GHz Speed</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <section class="detail-page">
        <div class="container">
            <!-- Interactive Simulator -->
            <div class="simulator-container">
                <h2 style="color: #00ff88; margin-bottom: 30px; font-size: 2em;">
                    <i class="fas fa-flask"></i> Interactive Photonic Simulator
                </h2>
                
                <!-- Visualization Tabs -->
                <div class="visualization-tabs">
                    <div class="viz-tab active" onclick="switchTab('simulation')">
                        <i class="fas fa-chart-line"></i> Simulation
                    </div>
                    <div class="viz-tab" onclick="switchTab('architecture')">
                        <i class="fas fa-cube"></i> 3D Architecture
                    </div>
                    <div class="viz-tab" onclick="switchTab('analysis')">
                        <i class="fas fa-chart-bar"></i> Performance Analysis
                    </div>
                    <div class="viz-tab" onclick="switchTab('materials')">
                        <i class="fas fa-atom"></i> PCM Materials
                    </div>
                    <div class="viz-tab" onclick="switchTab('code')">
                        <i class="fas fa-code"></i> Implementation
                    </div>
                </div>

                <!-- Simulation Tab -->
                <div id="simulation-tab" class="tab-content">
                    <div class="control-panel">
                        <!-- PCM Configuration -->
                        <div class="control-card">
                            <h3><i class="fas fa-layer-group"></i> PCM Configuration</h3>
                            
                            <div class="material-selector">
                                <div class="material-option selected" onclick="selectMaterial('sbs')">
                                    <div class="material-name">Sb₂S₃</div>
                                    <div class="material-props">Low Loss<br>Δn=0.54</div>
                                </div>
                                <div class="material-option" onclick="selectMaterial('gst')">
                                    <div class="material-name">GST</div>
                                    <div class="material-props">High Δn<br>Δn=2.74</div>
                                </div>
                                <div class="material-option" onclick="selectMaterial('sbse')">
                                    <div class="material-name">Sb₂Se₃</div>
                                    <div class="material-props">Zero Loss<br>Δn=0.76</div>
                                </div>
                            </div>
                            
                            <div class="slider-group">
                                <div class="slider-label">
                                    <span>Phase State</span>
                                    <span class="value-badge" id="phaseStateValue">50%</span>
                                </div>
                                <input type="range" class="custom-slider" id="phaseState" 
                                       min="0" max="1" step="0.01" value="0.5">
                            </div>
                            
                            <div class="slider-group">
                                <div class="slider-label">
                                    <span>MSB Precision (PCM)</span>
                                    <span class="value-badge" id="msbValue">5 bits</span>
                                </div>
                                <input type="range" class="custom-slider" id="msbPrecision" 
                                       min="4" max="8" step="1" value="5">
                            </div>
                            
                            <div class="metric-display">
                                <div class="metric-item">
                                    <div class="metric-label">Δn Index</div>
                                    <div class="metric-value" id="deltaN">0.54</div>
                                </div>
                                <div class="metric-item">
                                    <div class="metric-label">Extinction</div>
                                    <div class="metric-value" id="extinctionCoeff">0.05</div>
                                </div>
                            </div>
                        </div>

                        <!-- Electro-Optic Tuning -->
                        <div class="control-card">
                            <h3><i class="fas fa-wave-square"></i> Electro-Optic Tuning</h3>
                            
                            <div class="slider-group">
                                <div class="slider-label">
                                    <span>Reverse Bias Voltage</span>
                                    <span class="value-badge" id="biasValue">2.0 V</span>
                                </div>
                                <input type="range" class="custom-slider" id="biasVoltage" 
                                       min="0" max="5" step="0.1" value="2">
                            </div>
                            
                            <div class="slider-group">
                                <div class="slider-label">
                                    <span>LSB Precision (E-O)</span>
                                    <span class="value-badge" id="lsbValue">8 bits</span>
                                </div>
                                <input type="range" class="custom-slider" id="lsbPrecision" 
                                       min="6" max="10" step="1" value="8">
                            </div>
                            
                            <div class="slider-group">
                                <div class="slider-label">
                                    <span>Temperature</span>
                                    <span class="value-badge" id="tempValue">300 K</span>
                                </div>
                                <input type="range" class="custom-slider" id="temperature" 
                                       min="273" max="373" step="1" value="300">
                            </div>
                            
                            <div class="metric-display">
                                <div class="metric-item">
                                    <div class="metric-label">E-O Bandwidth</div>
                                    <div class="metric-value" id="eoBandwidth">4.0 GHz</div>
                                </div>
                                <div class="metric-item">
                                    <div class="metric-label">Total Bits</div>
                                    <div class="metric-value" id="totalPrecision">13</div>
                                </div>
                            </div>
                        </div>

                        <!-- System Configuration -->
                        <div class="control-card">
                            <h3><i class="fas fa-cogs"></i> System Configuration</h3>
                            
                            <div class="slider-group">
                                <div class="slider-label">
                                    <span>Array Size</span>
                                    <span class="value-badge" id="arraySizeValue">32×32</span>
                                </div>
                                <input type="range" class="custom-slider" id="arraySize" 
                                       min="16" max="256" step="16" value="32">
                            </div>
                            
                            <div class="slider-group">
                                <div class="slider-label">
                                    <span>Wavelengths</span>
                                    <span class="value-badge" id="wavelengthValue">32</span>
                                </div>
                                <input type="range" class="custom-slider" id="wavelengths" 
                                       min="4" max="64" step="4" value="32">
                            </div>
                            
                            <div class="slider-group">
                                <div class="slider-label">
                                    <span>Incident Power</span>
                                    <span class="value-badge" id="powerValue">1.0 mW</span>
                                </div>
                                <input type="range" class="custom-slider" id="incidentPower" 
                                       min="-3" max="0" step="0.1" value="-3">
                            </div>
                            
                            <div class="action-buttons">
                                <button class="action-btn" onclick="runSimulation()">
                                    <i class="fas fa-play"></i> Run Simulation
                                </button>
                                <button class="action-btn secondary" onclick="optimizeSystem()">
                                    <i class="fas fa-magic"></i> Auto-Optimize
                                </button>
                            </div>
                            
                            <div class="progress-indicator">
                                <div class="progress-fill" id="progressBar">Ready</div>
                            </div>
                        </div>

                        <!-- Performance Metrics -->
                        <div class="control-card">
                            <h3><i class="fas fa-chart-pie"></i> Performance Metrics</h3>
                            
                            <div class="metric-display">
                                <div class="metric-item">
                                    <div class="metric-label">ENOB</div>
                                    <div class="metric-value" id="enob">12.5 bits</div>
                                </div>
                                <div class="metric-item">
                                    <div class="metric-label">Power/PetaOPS</div>
                                    <div class="metric-value" id="powerEff">0.8 W</div>
                                </div>
                                <div class="metric-item">
                                    <div class="metric-label">Crosstalk</div>
                                    <div class="metric-value" id="crosstalk">-70 dB</div>
                                </div>
                                <div class="metric-item">
                                    <div class="metric-label">Q-Factor</div>
                                    <div class="metric-value" id="qFactor">1.5×10⁶</div>
                                </div>
                                <div class="metric-item">
                                    <div class="metric-label">Insertion Loss</div>
                                    <div class="metric-value" id="insertionLoss">1.13 dB</div>
                                </div>
                                <div class="metric-item">
                                    <div class="metric-label">Peak OPS</div>
                                    <div class="metric-value" id="peakOps">327 TOPS</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Visualization Charts -->
                    <div class="chart-container">
                        <canvas id="resonatorCanvas" width="1200" height="400"></canvas>
                    </div>
                    
                    <div class="control-panel">
                        <div class="control-card">
                            <h3><i class="fas fa-chart-line"></i> Convergence Analysis</h3>
                            <div class="chart-container">
                                <canvas id="convergenceChart"></canvas>
                            </div>
                        </div>
                        
                        <div class="control-card">
                            <h3><i class="fas fa-wave-square"></i> Spectral Response</h3>
                            <div class="chart-container">
                                <canvas id="spectralChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Architecture Tab -->
                <div id="architecture-tab" class="tab-content" style="display: none;">
                    <div class="architecture-3d" id="architecture3D"></div>
                    
                    <div class="control-panel">
                        <div class="control-card">
                            <h3><i class="fas fa-layer-group"></i> 3D EPIC Layer Stack</h3>
                            <div class="metric-display">
                                <div class="metric-item">
                                    <div class="metric-label">PCM Layer</div>
                                    <div class="metric-value">Sb₂S₃ (5-bit)</div>
                                </div>
                                <div class="metric-item">
                                    <div class="metric-label">Photonic IC</div>
                                    <div class="metric-value">AlGaAs</div>
                                </div>
                                <div class="metric-item">
                                    <div class="metric-label">Interconnect</div>
                                    <div class="metric-value">2μm DBI</div>
                                </div>
                                <div class="metric-item">
                                    <div class="metric-label">CMOS EIC</div>
                                    <div class="metric-value">22nm FD-SOI</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="control-card">
                            <h3><i class="fas fa-network-wired"></i> Crossbar Architecture</h3>
                            <canvas id="crossbarCanvas" width="600" height="400"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Analysis Tab -->
                <div id="analysis-tab" class="tab-content" style="display: none;">
                    <div class="control-panel">
                        <div class="control-card">
                            <h3><i class="fas fa-chart-bar"></i> ENOB vs Power Analysis</h3>
                            <div class="chart-container">
                                <canvas id="enobChart"></canvas>
                            </div>
                        </div>
                        
                        <div class="control-card">
                            <h3><i class="fas fa-chart-area"></i> Mixed-Precision Convergence</h3>
                            <div class="chart-container">
                                <canvas id="mixedPrecisionChart"></canvas>
                            </div>
                        </div>
                        
                        <div class="control-card">
                            <h3><i class="fas fa-expand-arrows-alt"></i> System Scalability</h3>
                            <div class="chart-container">
                                <canvas id="scalabilityChart"></canvas>
                            </div>
                        </div>
                        
                        <div class="control-card">
                            <h3><i class="fas fa-signal"></i> Noise Analysis</h3>
                            <div class="chart-container">
                                <canvas id="noiseChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Materials Tab -->
                <div id="materials-tab" class="tab-content" style="display: none;">
                    <div class="control-panel">
                        <div class="control-card">
                            <h3><i class="fas fa-atom"></i> Phase Change Materials Database</h3>
                            <table style="width: 100%; color: #e0e0e0;">
                                <thead>
                                    <tr style="border-bottom: 2px solid #00ff88;">
                                        <th style="padding: 10px; text-align: left;">Material</th>
                                        <th style="padding: 10px;">Δn</th>
                                        <th style="padding: 10px;">k_c</th>
                                        <th style="padding: 10px;">Loss (dB/cm)</th>
                                        <th style="padding: 10px;">Levels</th>
                                        <th style="padding: 10px;">Speed</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td style="padding: 10px; color: #00aaff;">Sb₂S₃</td>
                                        <td style="padding: 10px; text-align: center;">0.54</td>
                                        <td style="padding: 10px; text-align: center;">0.05</td>
                                        <td style="padding: 10px; text-align: center;">0.01</td>
                                        <td style="padding: 10px; text-align: center;">32</td>
                                        <td style="padding: 10px; text-align: center;">100 ns</td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 10px; color: #00aaff;">Ge₂Sb₂Te₅</td>
                                        <td style="padding: 10px; text-align: center;">2.74</td>
                                        <td style="padding: 10px; text-align: center;">1.09</td>
                                        <td style="padding: 10px; text-align: center;">1.0</td>
                                        <td style="padding: 10px; text-align: center;">16</td>
                                        <td style="padding: 10px; text-align: center;">50 ns</td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 10px; color: #00aaff;">Sb₂Se₃</td>
                                        <td style="padding: 10px; text-align: center;">0.76</td>
                                        <td style="padding: 10px; text-align: center;">0.0</td>
                                        <td style="padding: 10px; text-align: center;">0.0</td>
                                        <td style="padding: 10px; text-align: center;">32</td>
                                        <td style="padding: 10px; text-align: center;">150 ns</td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 10px; color: #00aaff;">GSST</td>
                                        <td style="padding: 10px; text-align: center;">1.8</td>
                                        <td style="padding: 10px; text-align: center;">0.3</td>
                                        <td style="padding: 10px; text-align: center;">0.2</td>
                                        <td style="padding: 10px; text-align: center;">64</td>
                                        <td style="padding: 10px; text-align: center;">200 ns</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <div class="control-card">
                            <h3><i class="fas fa-microscope"></i> Material Properties Comparison</h3>
                            <div class="chart-container">
                                <canvas id="materialChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Code Tab -->
                <div id="code-tab" class="tab-content" style="display: none;">
                    <div class="control-card">
                        <h3><i class="fas fa-code"></i> Python Implementation</h3>
                        <div class="code-viewer">
                            <pre><code class="language-python">"""
Mixed-Precision Photonic Computing Implementation
Phase Change Material Enhanced Ring Resonators
"""

import numpy as np
from dataclasses import dataclass
from typing import Tuple, List, Dict

@dataclass
class PCMMaterial:
    """Phase Change Material properties"""
    name: str
    delta_n: float  # Refractive index change
    kc: float      # Extinction coefficient
    loss: float    # Loss in dB/cm
    levels: int    # Number of distinct levels

class PhotonicTensorCore:
    """
    Photonic Tensor Core with PCM-AlGaAs mem-resonators
    Implements mixed-precision in-memory computing
    """
    
    def __init__(self, size: int = 32, wavelengths: int = 32):
        self.size = size
        self.wavelengths = wavelengths
        
        # PCM Materials Database
        self.pcm_materials = {
            'Sb2S3': PCMMaterial('Sb₂S₃', 0.54, 0.05, 0.01, 32),
            'GST': PCMMaterial('Ge₂Sb₂Te₅', 2.74, 1.09, 1.0, 16),
            'Sb2Se3': PCMMaterial('Sb₂Se₃', 0.76, 0.0, 0.0, 32)
        }
        
        # System parameters
        self.msb_bits = 5  # PCM precision
        self.lsb_bits = 8  # Electro-optic precision
        self.total_bits = self.msb_bits + self.lsb_bits
        
        # Optical parameters
        self.wavelength_center = 1550e-9  # meters
        self.fsr = 200e9  # Free spectral range in Hz
        self.q_factor = 1.5e6
        
    def mixed_precision_iterative_refinement(
        self, A: np.ndarray, b: np.ndarray,
        low_bits: int = 6, tol: float = 1e-8
    ) -> Tuple[np.ndarray, int, List[float]]:
        """
        Mixed-precision iterative refinement algorithm
        Core algorithm for photonic in-memory computing
        """
        n = len(b)
        A_inv = np.linalg.inv(A)  # High precision, done once
        x = np.zeros(n)
        residuals = []
        
        for k in range(20):
            r = b - A @ x  # Compute residual
            residual_norm = np.linalg.norm(r)
            residuals.append(residual_norm)
            
            if residual_norm < tol:
                break
            
            # Analog correction (photonic computation)
            delta = self.analog_matvec(A_inv, r, bits=low_bits)
            x = x + delta
        
        return x, k + 1, residuals
    
    def analog_matvec(
        self, A: np.ndarray, x: np.ndarray, 
        bits: int, noise_std: float = 0.001
    ) -> np.ndarray:
        """Simulate photonic tensor core operation"""
        y = A @ x
        y_quant = self.quantize_to_bits(y, bits)
        
        if noise_std > 0:
            noise = np.random.normal(0, noise_std, y_quant.shape)
            y_quant += noise
        
        return y_quant
    
    def calculate_enob(self, power: float) -> float:
        """Calculate Effective Number of Bits"""
        power_dbm = 10 * np.log10(power * 1000)
        snr_db = power_dbm + 160 - 1.13  # RIN + insertion loss
        enob = (snr_db - 1.76) / 6.02
        return min(enob, self.total_bits)

# Example usage
core = PhotonicTensorCore(size=32, wavelengths=32)
results = core.benchmark_pde_solver(n_grid=64)</code></pre>
                        </div>
                    </div>
                    
                    <div class="control-card">
                        <h3><i class="fas fa-terminal"></i> Usage Example</h3>
                        <div class="code-viewer">
                            <pre><code class="language-python"># Initialize the photonic computing system
from photonic_computing import PhotonicTensorCore, PhotonicSystemVisualizer

# Create tensor core with optimal configuration
core = PhotonicTensorCore(size=32, wavelengths=32)
core.set_pcm_material('Sb2S3')  # Low-loss material

# Optimize for 12-bit ENOB target
optimal = core.optimize_system_parameters(target_enob=12)
print(f"Optimal power: {optimal['power_watts']*1e3:.2f} mW")
print(f"Achieved ENOB: {optimal['achieved_enob']:.1f} bits")

# Benchmark PDE solver performance
results = core.benchmark_pde_solver(
    n_grid=64,
    precision_bits=[4, 6, 8, 10]
)

# Visualize convergence
viz = PhotonicSystemVisualizer()
viz.plot_convergence_analysis(results)
viz.plot_enob_analysis(core)

# Performance metrics
print(f"Peak Performance: {core.peak_performance/1e12:.2f} TeraOPS")
print(f"Energy Efficiency: {core.energy_efficiency:.2f} fJ/OP")</code></pre>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Technical Details Section -->
            <div class="project-content">
                <h2 style="color: #00ff88; margin: 30px 0;">Technical Implementation</h2>
                
                <div class="tech-grid">
                    <div class="tech-card">
                        <h3>Core Technologies</h3>
                        <ul>
                            <li><strong>3D EPIC Integration:</strong> Revolutionary 3D Electronic-Photonic Integrated Circuit combining CMOS control with photonic computing</li>
                            <li><strong>PCM-AlGaAs Mem-Resonators:</strong> Hybrid resonators achieving >12-bit precision through phase change materials</li>
                            <li><strong>Direct Bond Interconnect:</strong> 2μm pitch connections enabling massive parallelism</li>
                            <li><strong>Soliton Microcombs:</strong> Optical frequency comb generation with 200 GHz FSR</li>
                        </ul>
                    </div>
                    
                    <div class="tech-card">
                        <h3>Mathematical Foundations</h3>
                        <ul>
                            <li><strong>Mixed-Precision Algorithm:</strong> Iterative refinement with analog low-precision and digital high-precision computations</li>
                            <li><strong>PDE Solving:</strong> Optimized for Poisson equations with O(N·log(N)) complexity</li>
                            <li><strong>Quantization Model:</strong> Accurate modeling of finite precision effects in photonic hardware</li>
                            <li><strong>ENOB Calculation:</strong> Comprehensive noise analysis including RIN, thermal, shot noise, and crosstalk</li>
                        </ul>
                    </div>
                    
                    <div class="tech-card">
                        <h3>System Architecture</h3>
                        <ul>
                            <li><strong>Array Size:</strong> Scalable from 16×16 to 256×256 crossbar arrays</li>
                            <li><strong>Wavelength Channels:</strong> 32-64 parallel wavelengths via WDM</li>
                            <li><strong>Precision Levels:</strong> 5-bit MSB (PCM) + 8-bit LSB (electro-optic)</li>
                            <li><strong>Operating Speed:</strong> 10 GHz modulation bandwidth</li>
                        </ul>
                    </div>
                    
                    <div class="tech-card">
                        <h3>Performance Metrics</h3>
                        <ul>
                            <li><strong>Peak Performance:</strong> 327 TeraOPS (32×32 array)</li>
                            <li><strong>Energy Efficiency:</strong> 2.4 fJ/OP (10,000× better than CMOS)</li>
                            <li><strong>Effective Precision:</strong> 12.5 bits ENOB</li>
                            <li><strong>Crosstalk:</strong> -70 dB baseline</li>
                            <li><strong>Q-Factor:</strong> 1.5×10⁶ for high spectral selectivity</li>
                        </ul>
                    </div>
                </div>

                <!-- Applications Section -->
                <h2 style="color: #00ff88; margin: 30px 0;">Applications & Impact</h2>
                
                <div class="applications-grid">
                    <div class="app-card">
                        <div class="app-icon"><i class="fas fa-brain"></i></div>
                        <h3>Machine Learning</h3>
                        <p>Accelerate training and inference for large-scale neural networks with unprecedented energy efficiency</p>
                    </div>
                    
                    <div class="app-card">
                        <div class="app-icon"><i class="fas fa-cloud"></i></div>
                        <h3>Scientific Computing</h3>
                        <p>Real-time PDE solving for fluid dynamics, climate modeling, and molecular simulations</p>
                    </div>
                    
                    <div class="app-card">
                        <div class="app-icon"><i class="fas fa-chart-line"></i></div>
                        <h3>Financial Modeling</h3>
                        <p>High-speed portfolio optimization and risk analysis with massive parallelism</p>
                    </div>
                    
                    <div class="app-card">
                        <div class="app-icon"><i class="fas fa-dna"></i></div>
                        <h3>Bioinformatics</h3>
                        <p>Accelerate genomic analysis and protein folding simulations</p>
                    </div>
                </div>

                <!-- Research Publications -->
                <h2 style="color: #00ff88; margin: 30px 0;">Research Foundation</h2>
                
                <div class="publications-list">
                    <div class="publication-item">
                        <h4>Mixed Precision Photonic Computing with 3D Electronic-Photonic Integrated Circuits</h4>
                        <p>Charalampous, G., et al. (2025). arXiv:2508.03063</p>
                    </div>
                    
                    <div class="publication-item">
                        <h4>Non-volatile Electrically Programmable Integrated Photonics</h4>
                        <p>Chen, R., et al. (2023). Nature Communications 14, 3465</p>
                    </div>
                    
                    <div class="publication-item">
                        <h4>Spontaneous Pulse Formation in Edgeless Photonic Crystal Resonators</h4>
                        <p>Yu, S.-P., et al. (2022). Nature Photonics 15, 461-467</p>
                    </div>
                </div>

                <!-- Future Developments -->
                <h2 style="color: #00ff88; margin: 30px 0;">Future Roadmap</h2>
                
                <div class="timeline">
                    <div class="timeline-item">
                        <div class="timeline-date">2025-2026</div>
                        <div class="timeline-content">
                            <h4>Near-term Enhancements</h4>
                            <ul>
                                <li>Zero-loss Sb₂Se₃ integration</li>
                                <li>16-bit ENOB achievement</li>
                                <li>512×512 array scaling</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="timeline-item">
                        <div class="timeline-date">2027+</div>
                        <div class="timeline-content">
                            <h4>Long-term Vision</h4>
                            <ul>
                                <li>Monolithic CMOS-photonic integration</li>
                                <li>Neuromorphic computing capabilities</li>
                                <li>Quantum-photonic hybrid systems</li>
                                <li>Exascale computing (10¹⁸ ops/s)</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Advanced JavaScript Implementation -->
    <script>
        // Global variables
        let convergenceChart, spectralChart, enobChart, mixedPrecisionChart;
        let scalabilityChart, noiseChart, materialChart;
        let scene, camera, renderer; // For 3D visualization
        let simulationData = {};
        let currentMaterial = 'sbs';
        
        // PCM Materials Database
        const pcmMaterials = {
            sbs: { name: 'Sb₂S₃', deltaN: 0.54, kc: 0.05, loss: 0.01, levels: 32 },
            gst: { name: 'Ge₂Sb₂Te₅', deltaN: 2.74, kc: 1.09, loss: 1.0, levels: 16 },
            sbse: { name: 'Sb₂Se₃', deltaN: 0.76, kc: 0, loss: 0, levels: 32 }
        };
        
        // Initialize on page load
        window.onload = function() {
            initializeSliders();
            initializeCharts();
            drawResonatorVisualization();
            init3DArchitecture();
            updateAllValues();
        };
        
        function initializeSliders() {
            // Phase State Slider
            document.getElementById('phaseState').oninput = function() {
                document.getElementById('phaseStateValue').textContent = Math.round(this.value * 100) + '%';
                updatePCMProperties();
            };
            
            // MSB Precision Slider
            document.getElementById('msbPrecision').oninput = function() {
                document.getElementById('msbValue').textContent = this.value + ' bits';
                updateTotalPrecision();
            };
            
            // Bias Voltage Slider
            document.getElementById('biasVoltage').oninput = function() {
                document.getElementById('biasValue').textContent = parseFloat(this.value).toFixed(1) + ' V';
                updateElectroOpticProperties();
            };
            
            // LSB Precision Slider
            document.getElementById('lsbPrecision').oninput = function() {
                document.getElementById('lsbValue').textContent = this.value + ' bits';
                updateTotalPrecision();
            };
            
            // Temperature Slider
            document.getElementById('temperature').oninput = function() {
                document.getElementById('tempValue').textContent = this.value + ' K';
                updateThermalEffects();
            };
            
            // Array Size Slider
            document.getElementById('arraySize').oninput = function() {
                document.getElementById('arraySizeValue').textContent = this.value + '×' + this.value;
                updateSystemMetrics();
            };
            
            // Wavelengths Slider
            document.getElementById('wavelengths').oninput = function() {
                document.getElementById('wavelengthValue').textContent = this.value;
                updateSystemMetrics();
            };
            
            // Incident Power Slider
            document.getElementById('incidentPower').oninput = function() {
                const power = Math.pow(10, parseFloat(this.value));
                document.getElementById('powerValue').textContent = (power * 1000).toFixed(1) + ' mW';
                updateENOB();
            };
        }
        
        function selectMaterial(material) {
            currentMaterial = material;
            
            // Update UI
            document.querySelectorAll('.material-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            event.currentTarget.classList.add('selected');
            
            // Update properties
            updatePCMProperties();
        }
        
        function updatePCMProperties() {
            const phase = parseFloat(document.getElementById('phaseState').value);
            const pcm = pcmMaterials[currentMaterial];
            
            const deltaN = (pcm.deltaN * phase).toFixed(2);
            const kc = (pcm.kc * phase).toFixed(3);
            
            document.getElementById('deltaN').textContent = deltaN;
            document.getElementById('extinctionCoeff').textContent = kc;
            
            updateSystemMetrics();
        }
        
        function updateElectroOpticProperties() {
            const voltage = parseFloat(document.getElementById('biasVoltage').value);
            const bandwidth = (4.0 + voltage * 0.5).toFixed(1);
            document.getElementById('eoBandwidth').textContent = bandwidth + ' GHz';
            
            updateSystemMetrics();
        }
        
        function updateTotalPrecision() {
            const msb = parseInt(document.getElementById('msbPrecision').value);
            const lsb = parseInt(document.getElementById('lsbPrecision').value);
            const total = Math.min(msb + lsb, 16);
            document.getElementById('totalPrecision').textContent = total;
            
            updateENOB();
        }
        
        function updateENOB() {
            const total = parseInt(document.getElementById('totalPrecision').textContent);
            const arraySize = parseInt(document.getElementById('arraySize').value);
            const power = Math.pow(10, parseFloat(document.getElementById('incidentPower').value));
            
            // Calculate SNR and ENOB
            const powerDbm = 10 * Math.log10(power * 1000);
            const crosstalk = -70 - Math.log2(arraySize/32) * 3;
            const snrDb = powerDbm + 160 - 1.13 - 10 * Math.log10(1 + Math.pow(10, crosstalk/10));
            const enob = Math.min((snrDb - 1.76) / 6.02, total - 0.5).toFixed(1);
            
            document.getElementById('enob').textContent = enob + ' bits';
            document.getElementById('crosstalk').textContent = crosstalk.toFixed(0) + ' dB';
        }
        
        function updateSystemMetrics() {
            const arraySize = parseInt(document.getElementById('arraySize').value);
            const wavelengths = parseInt(document.getElementById('wavelengths').value);
            
            // Calculate power efficiency
            const powerEff = (0.8 * Math.sqrt(arraySize/32)).toFixed(2);
            document.getElementById('powerEff').textContent = powerEff + ' W';
            
            // Calculate peak performance
            const peakOps = (arraySize * arraySize * wavelengths * 10 / 1000).toFixed(0);
            document.getElementById('peakOps').textContent = peakOps + ' TOPS';
            
            // Update Q-factor based on configuration
            const qFactor = (1.5e6 / (1 + arraySize/256)).toExponential(1);
            document.getElementById('qFactor').textContent = qFactor;
            
            // Update insertion loss
            const loss = (1.13 + Math.log10(arraySize/32) * 0.2).toFixed(2);
            document.getElementById('insertionLoss').textContent = loss + ' dB';
            
            updateENOB();
        }
        
        function updateThermalEffects() {
            const temp = parseInt(document.getElementById('temperature').value);
            const tempEffect = 1 - (temp - 300) / 1000;
            updateSystemMetrics();
        }
        
        function updateAllValues() {
            updatePCMProperties();
            updateElectroOpticProperties();
            updateTotalPrecision();
            updateSystemMetrics();
        }
        
        function drawResonatorVisualization() {
            const canvas = document.getElementById('resonatorCanvas');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            
            let time = 0;
            
            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                // Draw background gradient
                const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
                gradient.addColorStop(0, 'rgba(10,14,39,0.8)');
                gradient.addColorStop(1, 'rgba(26,31,58,0.8)');
                ctx.fillStyle = gradient;
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                // Draw ring resonator array
                const rings = 4;
                const spacing = 200;
                const startX = (canvas.width - (rings - 1) * spacing) / 2;
                const startY = (canvas.height - (rings - 1) * spacing / 2) / 2;
                
                for (let i = 0; i < rings; i++) {
                    for (let j = 0; j < rings; j++) {
                        const x = startX + i * spacing;
                        const y = startY + j * spacing / 2;
                        
                        // Draw ring with animation
                        ctx.strokeStyle = `rgba(0, 255, 136, ${0.5 + 0.5 * Math.sin(time + i + j)})`;
                        ctx.lineWidth = 4;
                        ctx.beginPath();
                        ctx.arc(x, y, 50, 0, 2 * Math.PI);
                        ctx.stroke();
                        
                        // Draw PCM layer
                        ctx.fillStyle = `rgba(0, 170, 255, ${0.3 + 0.2 * Math.sin(time + i * j)})`;
                        ctx.beginPath();
                        ctx.arc(x, y, 45, 0, 2 * Math.PI);
                        ctx.fill();
                        
                        // Draw waveguides
                        ctx.strokeStyle = 'rgba(255, 255, 255, 0.2)';
                        ctx.lineWidth = 2;
                        ctx.beginPath();
                        ctx.moveTo(x - 70, y);
                        ctx.lineTo(x + 70, y);
                        ctx.moveTo(x, y - 70);
                        ctx.lineTo(x, y + 70);
                        ctx.stroke();
                        
                        // Draw light propagation
                        const numLights = 3;
                        for (let k = 0; k < numLights; k++) {
                            const angle = time * 2 + i + k * (2 * Math.PI / numLights);
                            const lightX = x + 50 * Math.cos(angle);
                            const lightY = y + 50 * Math.sin(angle);
                            
                            // Create glow effect
                            const glowGradient = ctx.createRadialGradient(lightX, lightY, 0, lightX, lightY, 15);
                            glowGradient.addColorStop(0, 'rgba(255, 255, 0, 0.9)');
                            glowGradient.addColorStop(0.5, 'rgba(255, 200, 0, 0.5)');
                            glowGradient.addColorStop(1, 'rgba(255, 150, 0, 0)');
                            
                            ctx.fillStyle = glowGradient;
                            ctx.beginPath();
                            ctx.arc(lightX, lightY, 15, 0, 2 * Math.PI);
                            ctx.fill();
                        }
                    }
                }
                
                // Draw connections between rings
                ctx.strokeStyle = 'rgba(0, 255, 136, 0.3)';
                ctx.lineWidth = 2;
                for (let i = 0; i < rings - 1; i++) {
                    for (let j = 0; j < rings; j++) {
                        ctx.beginPath();
                        ctx.moveTo(startX + i * spacing + 50, startY + j * spacing / 2);
                        ctx.lineTo(startX + (i + 1) * spacing - 50, startY + j * spacing / 2);
                        ctx.stroke();
                    }
                }
                
                time += 0.02;
                requestAnimationFrame(animate);
            }
            
            animate();
        }
        
        function initializeCharts() {
            // Convergence Chart
            const ctxConv = document.getElementById('convergenceChart');
            if (ctxConv) {
                convergenceChart = new Chart(ctxConv.getContext('2d'), {
                    type: 'line',
                    data: {
                        labels: Array.from({length: 20}, (_, i) => i + 1),
                        datasets: [{
                            label: '4-bit Precision',
                            data: Array.from({length: 20}, (_, i) => Math.exp(-i * 0.1) + Math.random() * 0.01),
                            borderColor: '#ff6b6b',
                            backgroundColor: 'rgba(255, 107, 107, 0.1)',
                            tension: 0.4
                        }, {
                            label: '8-bit Precision',
                            data: Array.from({length: 20}, (_, i) => Math.exp(-i * 0.3) + Math.random() * 0.001),
                            borderColor: '#00ff88',
                            backgroundColor: 'rgba(0, 255, 136, 0.1)',
                            tension: 0.4
                        }, {
                            label: '12-bit Precision',
                            data: Array.from({length: 20}, (_, i) => Math.exp(-i * 0.5) + Math.random() * 0.0001),
                            borderColor: '#00aaff',
                            backgroundColor: 'rgba(0, 170, 255, 0.1)',
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { 
                                labels: { color: '#e0e0e0' },
                                position: 'top'
                            },
                            title: {
                                display: true,
                                text: 'Iterative Refinement Convergence',
                                color: '#e0e0e0',
                                font: { size: 16 }
                            }
                        },
                        scales: {
                            x: { 
                                title: { display: true, text: 'Iteration', color: '#e0e0e0' },
                                ticks: { color: '#e0e0e0' },
                                grid: { color: 'rgba(255, 255, 255, 0.1)' }
                            },
                            y: { 
                                type: 'logarithmic',
                                title: { display: true, text: 'Residual Error', color: '#e0e0e0' },
                                ticks: { color: '#e0e0e0' },
                                grid: { color: 'rgba(255, 255, 255, 0.1)' }
                            }
                        }
                    }
                });
            }
            
            // Spectral Response Chart
            const ctxSpectral = document.getElementById('spectralChart');
            if (ctxSpectral) {
                const wavelengths = Array.from({length: 100}, (_, i) => 1540 + i * 0.2);
                spectralChart = new Chart(ctxSpectral.getContext('2d'), {
                    type: 'line',
                    data: {
                        labels: wavelengths,
                        datasets: [{
                            label: 'Amorphous State',
                            data: wavelengths.map(w => {
                                const resonance = 1550;
                                const fwhm = 0.1;
                                return 1 - 0.9 / (1 + Math.pow((w - resonance) / fwhm, 2));
                            }),
                            borderColor: '#00aaff',
                            backgroundColor: 'rgba(0, 170, 255, 0.1)',
                            tension: 0.4
                        }, {
                            label: 'Crystalline State',
                            data: wavelengths.map(w => {
                                const resonance = 1549;
                                const fwhm = 0.15;
                                return 1 - 0.9 / (1 + Math.pow((w - resonance) / fwhm, 2));
                            }),
                            borderColor: '#00ff88',
                            backgroundColor: 'rgba(0, 255, 136, 0.1)',
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { labels: { color: '#e0e0e0' } },
                            title: {
                                display: true,
                                text: 'Ring Resonator Spectral Response',
                                color: '#e0e0e0',
                                font: { size: 16 }
                            }
                        },
                        scales: {
                            x: { 
                                title: { display: true, text: 'Wavelength (nm)', color: '#e0e0e0' },
                                ticks: { color: '#e0e0e0' },
                                grid: { color: 'rgba(255, 255, 255, 0.1)' }
                            },
                            y: { 
                                title: { display: true, text: 'Transmission', color: '#e0e0e0' },
                                ticks: { color: '#e0e0e0' },
                                grid: { color: 'rgba(255, 255, 255, 0.1)' }
                            }
                        }
                    }
                });
            }
        }
        
        function initializeAnalysisCharts() {
            // ENOB vs Power Chart
            const ctxEnob = document.getElementById('enobChart');
            if (ctxEnob && !enobChart) {
                const powers = Array.from({length: 50}, (_, i) => Math.pow(10, -6 + i * 0.1));
                enobChart = new Chart(ctxEnob.getContext('2d'), {
                    type: 'line',
                    data: {
                        labels: powers.map(p => (p * 1e6).toFixed(1)),
                        datasets: [{
                            label: 'RIN = -140 dBc/Hz',
                            data: powers.map(p => {
                                const pDbm = 10 * Math.log10(p * 1000);
                                return Math.min((pDbm + 140 - 1.76) / 6.02, 14);
                            }),
                            borderColor: '#ff8800',
                            tension: 0.4
                        }, {
                            label: 'RIN = -160 dBc/Hz',
                            data: powers.map(p => {
                                const pDbm = 10 * Math.log10(p * 1000);
                                return Math.min((pDbm + 160 - 1.76) / 6.02, 14);
                            }),
                            borderColor: '#00ff88',
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { labels: { color: '#e0e0e0' } },
                            title: {
                                display: true,
                                text: 'ENOB vs Incident Power',
                                color: '#e0e0e0',
                                font: { size: 16 }
                            }
                        },
                        scales: {
                            x: { 
                                title: { display: true, text: 'Incident Power (μW)', color: '#e0e0e0' },
                                ticks: { color: '#e0e0e0' },
                                grid: { color: 'rgba(255, 255, 255, 0.1)' }
                            },
                            y: { 
                                title: { display: true, text: 'ENOB (bits)', color: '#e0e0e0' },
                                ticks: { color: '#e0e0e0' },
                                grid: { color: 'rgba(255, 255, 255, 0.1)' }
                            }
                        }
                    }
                });
            }
            
            // Mixed Precision Convergence
            const ctxMixed = document.getElementById('mixedPrecisionChart');
            if (ctxMixed && !mixedPrecisionChart) {
                mixedPrecisionChart = new Chart(ctxMixed.getContext('2d'), {
                    type: 'line',
                    data: {
                        labels: Array.from({length: 30}, (_, i) => i + 1),
                        datasets: [{
                            label: '4-bit Analog',
                            data: Array.from({length: 30}, (_, i) => Math.exp(-i * 0.1)),
                            borderColor: '#ff0000',
                            tension: 0.4
                        }, {
                            label: '6-bit Analog',
                            data: Array.from({length: 30}, (_, i) => Math.exp(-i * 0.2)),
                            borderColor: '#ff8800',
                            tension: 0.4
                        }, {
                            label: '8-bit Analog',
                            data: Array.from({length: 30}, (_, i) => Math.exp(-i * 0.3)),
                            borderColor: '#00ff88',
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { labels: { color: '#e0e0e0' } },
                            title: {
                                display: true,
                                text: 'Mixed-Precision Convergence Rates',
                                color: '#e0e0e0',
                                font: { size: 16 }
                            }
                        },
                        scales: {
                            x: { 
                                title: { display: true, text: 'Iteration', color: '#e0e0e0' },
                                ticks: { color: '#e0e0e0' },
                                grid: { color: 'rgba(255, 255, 255, 0.1)' }
                            },
                            y: { 
                                type: 'logarithmic',
                                title: { display: true, text: 'Relative Error', color: '#e0e0e0' },
                                ticks: { color: '#e0e0e0' },
                                grid: { color: 'rgba(255, 255, 255, 0.1)' }
                            }
                        }
                    }
                });
            }
            
            // Scalability Chart
            const ctxScale = document.getElementById('scalabilityChart');
            if (ctxScale && !scalabilityChart) {
                const sizes = [16, 32, 64, 128, 256];
                scalabilityChart = new Chart(ctxScale.getContext('2d'), {
                    type: 'bar',
                    data: {
                        labels: sizes.map(s => s + '×' + s),
                        datasets: [{
                            label: 'Performance (PetaOPS)',
                            data: sizes.map(s => s * s * 32 * 10 / 1e6),
                            backgroundColor: 'rgba(0, 255, 136, 0.5)',
                            borderColor: '#00ff88',
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { labels: { color: '#e0e0e0' } },
                            title: {
                                display: true,
                                text: 'System Scalability Analysis',
                                color: '#e0e0e0',
                                font: { size: 16 }
                            }
                        },
                        scales: {
                            x: { 
                                title: { display: true, text: 'Array Size', color: '#e0e0e0' },
                                ticks: { color: '#e0e0e0' },
                                grid: { color: 'rgba(255, 255, 255, 0.1)' }
                            },
                            y: { 
                                title: { display: true, text: 'PetaOPS', color: '#e0e0e0' },
                                ticks: { color: '#e0e0e0' },
                                grid: { color: 'rgba(255, 255, 255, 0.1)' }
                            }
                        }
                    }
                });
            }
            
            // Noise Analysis Chart
            const ctxNoise = document.getElementById('noiseChart');
            if (ctxNoise && !noiseChart) {
                const frequencies = Array.from({length: 100}, (_, i) => i * 2);
                noiseChart = new Chart(ctxNoise.getContext('2d'), {
                    type: 'line',
                    data: {
                        labels: frequencies,
                        datasets: [{
                            label: 'RIN (dBc/Hz)',
                            data: frequencies.map(f => -160 - Math.log10(1 + f/100) * 10),
                            borderColor: '#00aaff',
                            tension: 0.4
                        }, {
                            label: 'Thermal Noise',
                            data: frequencies.map(f => -170 - Math.log10(1 + f/50) * 5),
                            borderColor: '#ff8800',
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { labels: { color: '#e0e0e0' } },
                            title: {
                                display: true,
                                text: 'Noise Spectral Density',
                                color: '#e0e0e0',
                                font: { size: 16 }
                            }
                        },
                        scales: {
                            x: { 
                                title: { display: true, text: 'Frequency (GHz)', color: '#e0e0e0' },
                                ticks: { color: '#e0e0e0' },
                                grid: { color: 'rgba(255, 255, 255, 0.1)' }
                            },
                            y: { 
                                title: { display: true, text: 'Noise (dBc/Hz)', color: '#e0e0e0' },
                                ticks: { color: '#e0e0e0' },
                                grid: { color: 'rgba(255, 255, 255, 0.1)' }
                            }
                        }
                    }
                });
            }
        }
        
        function initializeMaterialChart() {
            const ctxMaterial = document.getElementById('materialChart');
            if (ctxMaterial && !materialChart) {
                materialChart = new Chart(ctxMaterial.getContext('2d'), {
                    type: 'radar',
                    data: {
                        labels: ['Δn', 'Low Loss', 'Levels', 'Speed', 'Stability'],
                        datasets: [{
                            label: 'Sb₂S₃',
                            data: [54, 99, 32, 70, 85],
                            borderColor: '#00ff88',
                            backgroundColor: 'rgba(0, 255, 136, 0.2)'
                        }, {
                            label: 'GST',
                            data: [100, 20, 16, 90, 60],
                            borderColor: '#ff8800',
                            backgroundColor: 'rgba(255, 136, 0, 0.2)'
                        }, {
                            label: 'Sb₂Se₃',
                            data: [76, 100, 32, 60, 90],
                            borderColor: '#00aaff',
                            backgroundColor: 'rgba(0, 170, 255, 0.2)'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { labels: { color: '#e0e0e0' } },
                            title: {
                                display: true,
                                text: 'PCM Material Properties Comparison',
                                color: '#e0e0e0',
                                font: { size: 16 }
                            }
                        },
                        scales: {
                            r: {
                                angleLines: { color: 'rgba(255, 255, 255, 0.1)' },
                                grid: { color: 'rgba(255, 255, 255, 0.1)' },
                                pointLabels: { color: '#e0e0e0' },
                                ticks: { 
                                    color: '#e0e0e0',
                                    backdropColor: 'transparent'
                                }
                            }
                        }
                    }
                });
            }
        }
        
        function init3DArchitecture() {
            const container = document.getElementById('architecture3D');
            if (!container) return;
            
            // Initialize Three.js scene
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0x0a0e27);
            
            camera = new THREE.PerspectiveCamera(
                75, 
                container.clientWidth / container.clientHeight, 
                0.1, 
                1000
            );
            camera.position.set(5, 5, 5);
            camera.lookAt(0, 0, 0);
            
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(container.clientWidth, container.clientHeight);
            container.appendChild(renderer.domElement);
            
            // Add lighting
            const ambientLight = new THREE.AmbientLight(0x404040);
            scene.add(ambientLight);
            
            const directionalLight = new THREE.DirectionalLight(0x00ff88, 1);
            directionalLight.position.set(5, 5, 5);
            scene.add(directionalLight);
            
            // Create 3D EPIC layers
            const layers = [
                { name: 'CMOS EIC', y: 0, color: 0x00aaff },
                { name: 'DBI', y: 1, color: 0xffaa00 },
                { name: 'Photonic IC', y: 2, color: 0x00ff88 },
                { name: 'PCM Layer', y: 3, color: 0xff00aa }
            ];
            
            layers.forEach(layer => {
                const geometry = new THREE.BoxGeometry(4, 0.2, 4);
                const material = new THREE.MeshPhongMaterial({ 
                    color: layer.color,
                    transparent: true,
                    opacity: 0.7
                });
                const mesh = new THREE.Mesh(geometry, material);
                mesh.position.y = layer.y;
                scene.add(mesh);
            });
            
            // Animation loop
            function animate3D() {
                requestAnimationFrame(animate3D);
                
                // Rotate the scene
                scene.rotation.y += 0.005;
                
                renderer.render(scene, camera);
            }
            
            animate3D();
        }
        
        function drawCrossbarArchitecture() {
            const canvas = document.getElementById('crossbarCanvas');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Draw crossbar array
            const rows = 8;
            const cols = 8;
            const cellSize = 50;
            const startX = (canvas.width - cols * cellSize) / 2;
            const startY = (canvas.height - rows * cellSize) / 2;
            
            for (let i = 0; i < rows; i++) {
                for (let j = 0; j < cols; j++) {
                    const x = startX + j * cellSize;
                    const y = startY + i * cellSize;
                    
                    // Draw cell
                    ctx.fillStyle = `rgba(0, 255, 136, ${0.1 + Math.random() * 0.3})`;
                    ctx.fillRect(x, y, cellSize - 2, cellSize - 2);
                    
                    // Draw ring resonator
                    ctx.strokeStyle = '#00ff88';
                    ctx.lineWidth = 2;
                    ctx.beginPath();
                    ctx.arc(x + cellSize/2, y + cellSize/2, 15, 0, 2 * Math.PI);
                    ctx.stroke();
                }
            }
            
            // Draw input/output waveguides
            ctx.strokeStyle = '#00aaff';
            ctx.lineWidth = 3;
            
            // Horizontal waveguides
            for (let i = 0; i < rows; i++) {
                ctx.beginPath();
                ctx.moveTo(startX - 20, startY + i * cellSize + cellSize/2);
                ctx.lineTo(startX + cols * cellSize + 20, startY + i * cellSize + cellSize/2);
                ctx.stroke();
            }
            
            // Vertical waveguides
            for (let j = 0; j < cols; j++) {
                ctx.beginPath();
                ctx.moveTo(startX + j * cellSize + cellSize/2, startY - 20);
                ctx.lineTo(startX + j * cellSize + cellSize/2, startY + rows * cellSize + 20);
                ctx.stroke();
            }
        }
        
        function runSimulation() {
            const progressBar = document.getElementById('progressBar');
            progressBar.style.width = '0%';
            progressBar.textContent = 'Initializing...';
            
            let progress = 0;
            const interval = setInterval(() => {
                progress += 5;
                progressBar.style.width = progress + '%';
                
                if (progress < 30) {
                    progressBar.textContent = 'Loading PCM states...';
                } else if (progress < 60) {
                    progressBar.textContent = 'Computing matrix operations...';
                } else if (progress < 90) {
                    progressBar.textContent = 'Running iterative refinement...';
                } else {
                    progressBar.textContent = 'Finalizing results...';
                }
                
                if (progress >= 100) {
                    clearInterval(interval);
                    progressBar.textContent = 'Simulation Complete!';
                    updateSimulationResults();
                }
            }, 100);
        }
        
        function updateSimulationResults() {
            // Update convergence chart with new data
            const iterations = 20;
            const precision = parseInt(document.getElementById('totalPrecision').textContent);
            
            if (convergenceChart) {
                const newData = Array.from({length: iterations}, (_, i) => 
                    Math.exp(-i * precision/20) + Math.random() * 0.001
                );
                
                convergenceChart.data.datasets[0].data = newData;
                convergenceChart.update();
            }
            
            // Update spectral response
            if (spectralChart) {
                const phase = parseFloat(document.getElementById('phaseState').value);
                const wavelengths = Array.from({length: 100}, (_, i) => 1540 + i * 0.2);
                const resonance = 1550 - phase * 10;
                
                spectralChart.data.datasets[0].data = wavelengths.map(w => {
                    const fwhm = 0.1 + phase * 0.05;
                    return 1 - 0.9 / (1 + Math.pow((w - resonance) / fwhm, 2));
                });
                spectralChart.update();
            }
            
            // Show notification
            showNotification('Simulation completed successfully!', 'success');
        }
        
        function optimizeSystem() {
            // Set optimal parameters
            document.getElementById('msbPrecision').value = 6;
            document.getElementById('lsbPrecision').value = 8;
            document.getElementById('biasVoltage').value = 3;
            document.getElementById('arraySize').value = 64;
            document.getElementById('wavelengths').value = 32;
            document.getElementById('incidentPower').value = -3;
            
            // Update displays
            document.getElementById('msbValue').textContent = '6 bits';
            document.getElementById('lsbValue').textContent = '8 bits';
            document.getElementById('biasValue').textContent = '3.0 V';
            document.getElementById('arraySizeValue').textContent = '64×64';
            document.getElementById('wavelengthValue').textContent = '32';
            document.getElementById('powerValue').textContent = '1.0 mW';
            
            // Update all values
            updateAllValues();
            
            // Run simulation
            runSimulation();
            
            // Show notification
            showNotification('System optimized for maximum performance!', 'info');
        }
        
        function switchTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.style.display = 'none';
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.viz-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab and make it active
            document.getElementById(tabName + '-tab').style.display = 'block';
            event.currentTarget.classList.add('active');
            
            // Initialize charts if needed
            if (tabName === 'analysis') {
                initializeAnalysisCharts();
            } else if (tabName === 'materials') {
                initializeMaterialChart();
            } else if (tabName === 'architecture') {
                drawCrossbarArchitecture();
            }
        }
        
        function showNotification(message, type) {
            // Create notification element
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 15px 25px;
                background: ${type === 'success' ? 'linear-gradient(45deg, #00ff88, #00aaff)' : 'linear-gradient(45deg, #00aaff, #0088ff)'};
                color: #0a0e27;
                border-radius: 10px;
                font-weight: bold;
                z-index: 10000;
                animation: slideIn 0.3s ease;
                box-shadow: 0 5px 20px rgba(0,255,136,0.4);
            `;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            // Remove after 3 seconds
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }
        
        // Add CSS animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>