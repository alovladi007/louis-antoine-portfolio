<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GaN Performance Comparison - Lateral vs Vertical</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: #0a0a0a;
            color: #e0e0e0;
            line-height: 1.6;
        }

        /* Navigation Bar */
        .navigation-bar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(10px);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
            border-bottom: 1px solid rgba(59, 130, 246, 0.3);
        }

        .nav-btn {
            background: linear-gradient(135deg, #3b82f6, #1e40af);
            color: white;
            padding: 0.5rem 1.5rem;
            border-radius: 8px;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
        }

        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(59, 130, 246, 0.4);
        }

        /* Main Container */
        .main-container {
            margin-top: 80px;
            padding: 2rem;
            max-width: 1600px;
            margin-left: auto;
            margin-right: auto;
        }

        .page-title {
            font-size: 2.5rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: 3rem;
            background: linear-gradient(135deg, #3b82f6, #60a5fa);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Control Panel */
        .control-panel {
            background: rgba(20, 20, 20, 0.8);
            border: 1px solid rgba(59, 130, 246, 0.2);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .control-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }

        .control-item {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .control-item label {
            color: #a0a0a0;
            font-size: 0.9rem;
        }

        .control-item input[type="range"] {
            width: 100%;
            height: 6px;
            background: rgba(59, 130, 246, 0.2);
            border-radius: 3px;
            outline: none;
            -webkit-appearance: none;
        }

        .control-item input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            background: #3b82f6;
            border-radius: 50%;
            cursor: pointer;
        }

        .value-display {
            color: #3b82f6;
            font-weight: 600;
        }

        /* Comparison Cards */
        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .device-card {
            background: rgba(20, 20, 20, 0.8);
            border: 1px solid rgba(59, 130, 246, 0.2);
            border-radius: 15px;
            padding: 2rem;
        }

        .device-card h3 {
            color: #60a5fa;
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .metric-row {
            display: flex;
            justify-content: space-between;
            padding: 0.75rem 0;
            border-bottom: 1px solid rgba(59, 130, 246, 0.1);
        }

        .metric-label {
            color: #a0a0a0;
        }

        .metric-value {
            color: #3b82f6;
            font-weight: 600;
        }

        /* Visualization Container */
        .visualization-container {
            background: rgba(20, 20, 20, 0.8);
            border: 1px solid rgba(59, 130, 246, 0.2);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .viz-title {
            color: #60a5fa;
            font-size: 1.5rem;
            margin-bottom: 1rem;
            text-align: center;
        }

        /* Info Box */
        .info-box {
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.3);
            border-radius: 10px;
            padding: 1.5rem;
            margin: 2rem 0;
        }

        .info-box h4 {
            color: #60a5fa;
            margin-bottom: 1rem;
        }

        /* Button */
        .btn {
            background: linear-gradient(135deg, #3b82f6, #1e40af);
            color: white;
            border: none;
            padding: 0.75rem 2rem;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(59, 130, 246, 0.4);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .comparison-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <div class="navigation-bar">
        <a href="device-physics-demo.html" class="nav-btn">
            <i class="fas fa-arrow-left"></i> Previous Demo
        </a>
        <h2 style="color: #3b82f6; margin: 0;">Performance Comparison</h2>
        <a href="thermal-analysis.html" class="nav-btn">
            Next Demo <i class="fas fa-arrow-right"></i>
        </a>
    </div>

    <!-- Main Container -->
    <div class="main-container">
        <h1 class="page-title">Lateral vs Vertical GaN Performance Analysis</h1>

        <!-- Control Panel -->
        <div class="control-panel">
            <h3 style="color: #60a5fa; margin-bottom: 1.5rem;">Operating Conditions</h3>
            <div class="control-grid">
                <div class="control-item">
                    <label>Operating Voltage (V)</label>
                    <input type="range" id="voltage" min="100" max="1200" step="50" value="600">
                    <span class="value-display" id="voltage-value">600 V</span>
                </div>
                <div class="control-item">
                    <label>Current Density (A/cm²)</label>
                    <input type="range" id="current" min="10" max="500" step="10" value="100">
                    <span class="value-display" id="current-value">100 A/cm²</span>
                </div>
                <div class="control-item">
                    <label>Switching Frequency (MHz)</label>
                    <input type="range" id="frequency" min="0.1" max="10" step="0.1" value="1">
                    <span class="value-display" id="frequency-value">1.0 MHz</span>
                </div>
                <div class="control-item">
                    <label>Junction Temperature (°C)</label>
                    <input type="range" id="temperature" min="25" max="175" step="5" value="100">
                    <span class="value-display" id="temperature-value">100 °C</span>
                </div>
            </div>
            <button class="btn" onclick="updateComparison()" style="margin-top: 1.5rem;">
                <i class="fas fa-sync-alt"></i> Update Analysis
            </button>
        </div>

        <!-- Device Comparison Cards -->
        <div class="comparison-grid">
            <div class="device-card">
                <h3>Lateral GaN (E-mode)</h3>
                <div class="metric-row">
                    <span class="metric-label">Max Voltage</span>
                    <span class="metric-value" id="lateral-vmax">650 V</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">Ron,sp</span>
                    <span class="metric-value" id="lateral-ron">1.2 mΩ·cm²</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">Power Loss</span>
                    <span class="metric-value" id="lateral-loss">12.5 W</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">Efficiency</span>
                    <span class="metric-value" id="lateral-eff">98.5%</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">Thermal Resistance</span>
                    <span class="metric-value" id="lateral-rth">2.5 K/W</span>
                </div>
            </div>

            <div class="device-card">
                <h3>Vertical GaN</h3>
                <div class="metric-row">
                    <span class="metric-label">Max Voltage</span>
                    <span class="metric-value" id="vertical-vmax">1200 V</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">Ron,sp</span>
                    <span class="metric-value" id="vertical-ron">0.85 mΩ·cm²</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">Power Loss</span>
                    <span class="metric-value" id="vertical-loss">8.2 W</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">Efficiency</span>
                    <span class="metric-value" id="vertical-eff">99.1%</span>
                </div>
                <div class="metric-row">
                    <span class="metric-label">Thermal Resistance</span>
                    <span class="metric-value" id="vertical-rth">1.2 K/W</span>
                </div>
            </div>
        </div>

        <!-- Performance Charts -->
        <div class="visualization-container">
            <h3 class="viz-title">Ron vs Breakdown Voltage Trade-off</h3>
            <div id="ron-vbr-chart" style="height: 400px;"></div>
        </div>

        <div class="visualization-container">
            <h3 class="viz-title">Switching Loss Comparison</h3>
            <div id="switching-loss-chart" style="height: 400px;"></div>
        </div>

        <div class="visualization-container">
            <h3 class="viz-title">Figure of Merit Comparison</h3>
            <div id="fom-chart" style="height: 400px;"></div>
        </div>

        <div class="visualization-container">
            <h3 class="viz-title">Temperature-Dependent Performance</h3>
            <div id="temp-performance" style="height: 400px;"></div>
        </div>

        <!-- Information Section -->
        <div class="info-box">
            <h4>Key Performance Differences</h4>
            <p>
                <strong>Vertical GaN Advantages:</strong> Higher breakdown voltage capability (>1.2kV), 
                better thermal management through substrate cooling, higher current density handling, 
                and superior performance at high voltages.
            </p>
            <p style="margin-top: 1rem;">
                <strong>Lateral GaN Advantages:</strong> Lower cost due to GaN-on-Si technology, 
                mature manufacturing process, excellent performance for sub-1kV applications, 
                and easier integration with silicon drivers.
            </p>
        </div>
    </div>

    <script>
        // Initialize range inputs
        document.querySelectorAll('input[type="range"]').forEach(input => {
            input.addEventListener('input', function() {
                const valueDisplay = document.getElementById(this.id + '-value');
                let value = this.value;
                
                switch(this.id) {
                    case 'voltage':
                        valueDisplay.textContent = value + ' V';
                        break;
                    case 'current':
                        valueDisplay.textContent = value + ' A/cm²';
                        break;
                    case 'frequency':
                        valueDisplay.textContent = parseFloat(value).toFixed(1) + ' MHz';
                        break;
                    case 'temperature':
                        valueDisplay.textContent = value + ' °C';
                        break;
                }
            });
        });

        function updateComparison() {
            const voltage = parseFloat(document.getElementById('voltage').value);
            const current = parseFloat(document.getElementById('current').value);
            const frequency = parseFloat(document.getElementById('frequency').value);
            const temperature = parseFloat(document.getElementById('temperature').value);

            // Update device metrics
            updateDeviceMetrics(voltage, current, frequency, temperature);
            
            // Update charts
            plotRonVbrTradeoff();
            plotSwitchingLoss(frequency);
            plotFigureOfMerit();
            plotTemperaturePerformance();
        }

        function updateDeviceMetrics(V, I, f, T) {
            // Temperature coefficient
            const tempCoeff = 1 + 0.003 * (T - 25);
            
            // Lateral GaN metrics
            const lateralRon = 1.2 * tempCoeff;
            const lateralPcond = lateralRon * 1e-3 * I * I * 0.01; // Convert to W
            const lateralPsw = 0.5 * V * I * 0.01 * 50e-9 * f * 1e6; // Switching loss
            const lateralPloss = lateralPcond + lateralPsw;
            const lateralEff = 100 * (1 - lateralPloss / (V * I * 0.01));
            
            // Vertical GaN metrics
            const verticalRon = 0.85 * tempCoeff;
            const verticalPcond = verticalRon * 1e-3 * I * I * 0.01;
            const verticalPsw = 0.5 * V * I * 0.01 * 30e-9 * f * 1e6; // Faster switching
            const verticalPloss = verticalPcond + verticalPsw;
            const verticalEff = 100 * (1 - verticalPloss / (V * I * 0.01));
            
            // Update display
            document.getElementById('lateral-ron').textContent = lateralRon.toFixed(2) + ' mΩ·cm²';
            document.getElementById('lateral-loss').textContent = lateralPloss.toFixed(1) + ' W';
            document.getElementById('lateral-eff').textContent = lateralEff.toFixed(1) + '%';
            
            document.getElementById('vertical-ron').textContent = verticalRon.toFixed(2) + ' mΩ·cm²';
            document.getElementById('vertical-loss').textContent = verticalPloss.toFixed(1) + ' W';
            document.getElementById('vertical-eff').textContent = verticalEff.toFixed(1) + '%';
        }

        function plotRonVbrTradeoff() {
            // Generate data for different technologies
            const vbr = Array.from({length: 30}, (_, i) => 100 + i * 100);
            
            const lateralGaN = vbr.map(v => v < 1000 ? 0.5 * Math.pow(v/600, 2.5) : null).filter(v => v !== null);
            const verticalGaN = vbr.map(v => 0.3 * Math.pow(v/600, 2.3));
            const siC = vbr.map(v => 0.8 * Math.pow(v/600, 2.7));
            const si = vbr.map(v => v < 800 ? 2 * Math.pow(v/600, 2.7) : null).filter(v => v !== null);
            
            const data = [
                {
                    x: vbr.slice(0, lateralGaN.length),
                    y: lateralGaN,
                    name: 'Lateral GaN',
                    type: 'scatter',
                    line: { color: '#60a5fa', width: 3 }
                },
                {
                    x: vbr,
                    y: verticalGaN,
                    name: 'Vertical GaN',
                    type: 'scatter',
                    line: { color: '#3b82f6', width: 3 }
                },
                {
                    x: vbr,
                    y: siC,
                    name: 'SiC',
                    type: 'scatter',
                    line: { color: '#10b981', width: 2, dash: 'dash' }
                },
                {
                    x: vbr.slice(0, si.length),
                    y: si,
                    name: 'Si SJ',
                    type: 'scatter',
                    line: { color: '#ef4444', width: 2, dash: 'dot' }
                }
            ];
            
            const layout = {
                xaxis: { 
                    title: 'Breakdown Voltage (V)',
                    gridcolor: '#333',
                    type: 'log'
                },
                yaxis: { 
                    title: 'Specific On-Resistance (mΩ·cm²)',
                    gridcolor: '#333',
                    type: 'log'
                },
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(20,20,20,0.8)',
                font: { color: '#e0e0e0' },
                showlegend: true
            };
            
            Plotly.newPlot('ron-vbr-chart', data, layout, {responsive: true});
        }

        function plotSwitchingLoss(frequency) {
            const freqs = Array.from({length: 20}, (_, i) => 0.1 + i * 0.5);
            
            const lateralLoss = freqs.map(f => 50 * f); // 50ns switching time
            const verticalLoss = freqs.map(f => 30 * f); // 30ns switching time
            const sicLoss = freqs.map(f => 80 * f); // 80ns switching time
            
            const data = [
                {
                    x: freqs,
                    y: lateralLoss,
                    name: 'Lateral GaN',
                    type: 'scatter',
                    line: { color: '#60a5fa', width: 3 }
                },
                {
                    x: freqs,
                    y: verticalLoss,
                    name: 'Vertical GaN',
                    type: 'scatter',
                    line: { color: '#3b82f6', width: 3 }
                },
                {
                    x: freqs,
                    y: sicLoss,
                    name: 'SiC',
                    type: 'scatter',
                    line: { color: '#10b981', width: 2 }
                }
            ];
            
            const layout = {
                xaxis: { 
                    title: 'Switching Frequency (MHz)',
                    gridcolor: '#333'
                },
                yaxis: { 
                    title: 'Normalized Switching Loss',
                    gridcolor: '#333'
                },
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(20,20,20,0.8)',
                font: { color: '#e0e0e0' }
            };
            
            Plotly.newPlot('switching-loss-chart', data, layout, {responsive: true});
        }

        function plotFigureOfMerit() {
            const categories = ['BFOM', 'BHFFOM', 'JBS-FOM', 'HF-FOM', 'Cost-FOM'];
            
            const data = [
                {
                    x: categories,
                    y: [100, 120, 90, 130, 60],
                    name: 'Vertical GaN',
                    type: 'bar',
                    marker: { color: '#3b82f6' }
                },
                {
                    x: categories,
                    y: [70, 100, 95, 110, 100],
                    name: 'Lateral GaN',
                    type: 'bar',
                    marker: { color: '#60a5fa' }
                },
                {
                    x: categories,
                    y: [85, 70, 100, 60, 80],
                    name: 'SiC',
                    type: 'bar',
                    marker: { color: '#10b981' }
                }
            ];
            
            const layout = {
                xaxis: { gridcolor: '#333' },
                yaxis: { 
                    title: 'Normalized Figure of Merit',
                    gridcolor: '#333'
                },
                barmode: 'group',
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(20,20,20,0.8)',
                font: { color: '#e0e0e0' }
            };
            
            Plotly.newPlot('fom-chart', data, layout, {responsive: true});
        }

        function plotTemperaturePerformance() {
            const temps = Array.from({length: 16}, (_, i) => 25 + i * 10);
            
            const lateralRon = temps.map(t => 100 * (1 + 0.004 * (t - 25)));
            const verticalRon = temps.map(t => 100 * (1 + 0.003 * (t - 25)));
            const lateralMobility = temps.map(t => 100 * Math.pow((300/(t+273)), 1.5));
            const verticalMobility = temps.map(t => 100 * Math.pow((300/(t+273)), 1.3));
            
            const data = [
                {
                    x: temps,
                    y: lateralRon,
                    name: 'Lateral GaN Ron',
                    type: 'scatter',
                    line: { color: '#60a5fa', width: 3 },
                    yaxis: 'y'
                },
                {
                    x: temps,
                    y: verticalRon,
                    name: 'Vertical GaN Ron',
                    type: 'scatter',
                    line: { color: '#3b82f6', width: 3 },
                    yaxis: 'y'
                },
                {
                    x: temps,
                    y: lateralMobility,
                    name: 'Lateral GaN Mobility',
                    type: 'scatter',
                    line: { color: '#60a5fa', width: 2, dash: 'dash' },
                    yaxis: 'y2'
                },
                {
                    x: temps,
                    y: verticalMobility,
                    name: 'Vertical GaN Mobility',
                    type: 'scatter',
                    line: { color: '#3b82f6', width: 2, dash: 'dash' },
                    yaxis: 'y2'
                }
            ];
            
            const layout = {
                xaxis: { 
                    title: 'Temperature (°C)',
                    gridcolor: '#333'
                },
                yaxis: { 
                    title: 'Normalized Ron (%)',
                    gridcolor: '#333',
                    side: 'left'
                },
                yaxis2: {
                    title: 'Normalized Mobility (%)',
                    overlaying: 'y',
                    side: 'right',
                    gridcolor: '#333'
                },
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(20,20,20,0.8)',
                font: { color: '#e0e0e0' }
            };
            
            Plotly.newPlot('temp-performance', data, layout, {responsive: true});
        }

        // Initial plot
        updateComparison();
    </script>
</body>
</html>