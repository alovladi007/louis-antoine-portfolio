<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reliability Analysis Tutorial - PCM Retention & Endurance</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a0a2a 100%);
            color: #e0e0e0;
            min-height: 100vh;
        }
        .header {
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(10px);
            padding: 1rem 2rem;
            border-bottom: 1px solid rgba(147, 51, 234, 0.3);
        }
        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .back-btn {
            background: linear-gradient(135deg, #9333ea, #7c3aed);
            color: white;
            padding: 0.5rem 1.5rem;
            border-radius: 8px;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }
        .main-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        .page-title {
            font-size: 3rem;
            font-weight: 800;
            background: linear-gradient(135deg, #9333ea, #c084fc);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-align: center;
            margin-bottom: 1rem;
        }
        .difficulty-badge {
            display: inline-block;
            background: rgba(255, 107, 107, 0.2);
            color: #ff6b6b;
            padding: 0.3rem 1rem;
            border-radius: 20px;
            font-weight: 600;
            margin: 0 auto 3rem;
            display: block;
            width: fit-content;
        }
        .tutorial-section {
            background: rgba(20, 20, 20, 0.8);
            border: 1px solid rgba(147, 51, 234, 0.2);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
        }
        .section-title {
            font-size: 1.8rem;
            color: #c084fc;
            margin-bottom: 1.5rem;
        }
        .interactive-demo {
            background: rgba(147, 51, 234, 0.1);
            border: 1px solid rgba(147, 51, 234, 0.3);
            border-radius: 10px;
            padding: 2rem;
            margin: 2rem 0;
        }
        .control-panel {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        .control-group {
            background: rgba(20, 20, 20, 0.8);
            padding: 1rem;
            border-radius: 8px;
        }
        .control-label {
            color: #c084fc;
            font-weight: 600;
            margin-bottom: 0.5rem;
            display: block;
        }
        .control-input {
            width: 100%;
            padding: 0.5rem;
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(147, 51, 234, 0.3);
            color: #e0e0e0;
            border-radius: 5px;
        }
        .btn {
            background: linear-gradient(135deg, #9333ea, #7c3aed);
            color: white;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
        }
        .next-btn {
            background: linear-gradient(135deg, #9333ea, #7c3aed);
            color: white;
            padding: 1rem 2rem;
            border-radius: 8px;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1.1rem;
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <h2 style="color: #c084fc;">Reliability Analysis Tutorial</h2>
            <a href="pcm-tutorials.html" class="back-btn">
                <i class="fas fa-arrow-left"></i> Back to Tutorials
            </a>
        </div>
    </header>

    <main class="main-content">
        <h1 class="page-title">Retention & Endurance Analysis</h1>
        <span class="difficulty-badge">Advanced Level</span>
        
        <div class="tutorial-section">
            <h2 class="section-title">Introduction</h2>
            <p style="line-height: 1.8; color: #d0d0d0;">
                Reliability is paramount for PCM deployment in real applications. This tutorial covers 
                data retention modeling using Arrhenius extrapolation, endurance characterization with 
                Weibull statistics, failure mechanism analysis, and accelerated testing methodologies.
            </p>
        </div>

        <div class="tutorial-section">
            <h2 class="section-title">Interactive Reliability Analyzer</h2>
            
            <div class="interactive-demo">
                <h3 style="color: #c084fc; margin-bottom: 1rem;">Retention & Endurance Simulator</h3>
                
                <div class="control-panel">
                    <div class="control-group">
                        <label class="control-label">Storage Temperature (°C)</label>
                        <input type="number" class="control-input" id="storage-temp" value="85">
                    </div>
                    
                    <div class="control-group">
                        <label class="control-label">Activation Energy (eV)</label>
                        <input type="number" class="control-input" id="ea-retention" value="2.3" step="0.1">
                    </div>
                    
                    <div class="control-group">
                        <label class="control-label">Target Years</label>
                        <input type="number" class="control-input" id="target-years" value="10">
                    </div>
                    
                    <div class="control-group">
                        <label class="control-label">Cycling Endurance</label>
                        <select class="control-input" id="endurance-target">
                            <option value="1e6">10⁶ cycles</option>
                            <option value="1e7">10⁷ cycles</option>
                            <option value="1e8">10⁸ cycles</option>
                        </select>
                    </div>
                </div>
                
                <button class="btn" onclick="analyzeReliability()">
                    <i class="fas fa-shield-alt"></i> Analyze Reliability
                </button>
                
                <div id="retention-plot" style="margin-top: 2rem;"></div>
                <div id="endurance-plot" style="margin-top: 2rem;"></div>
                
                <div id="reliability-results" style="margin-top: 2rem; padding: 1rem; 
                        background: rgba(0, 0, 0, 0.5); border-radius: 8px;">
                    <h4 style="color: #c084fc;">Reliability Metrics:</h4>
                    <p>10-Year Retention @ 85°C: <span id="retention-result" style="color: #4ecdc4;">--</span></p>
                    <p>Median Endurance: <span id="endurance-result" style="color: #9333ea;">--</span></p>
                    <p>Failure Rate: <span id="failure-rate" style="color: #ff6b6b;">--</span></p>
                </div>
            </div>
        </div>

        <div style="text-align: center; margin-top: 3rem; padding-top: 2rem; border-top: 1px solid rgba(147, 51, 234, 0.2);">
            <p style="color: #a0a0a0; margin-bottom: 1rem;">Master statistical analysis:</p>
            <a href="pcm-tutorial-monte-carlo.html" class="next-btn">
                Next: Monte Carlo Methods <i class="fas fa-arrow-right"></i>
            </a>
        </div>
    </main>

    <script>
        function analyzeReliability() {
            const storageTemp = parseFloat(document.getElementById('storage-temp').value) + 273.15;
            const Ea = parseFloat(document.getElementById('ea-retention').value);
            const targetYears = parseFloat(document.getElementById('target-years').value);
            
            // Retention analysis - Arrhenius
            const temps = [];
            const times = [];
            for (let T = 358; T <= 473; T += 10) {
                temps.push(1000/T);
                const t = 1e10 * Math.exp(Ea * 11600 / T);
                times.push(Math.log10(t/3600)); // Convert to hours
            }
            
            const retentionTrace = {
                x: temps,
                y: times,
                type: 'scatter',
                mode: 'lines+markers',
                name: 'Retention',
                line: { color: '#9333ea', width: 3 }
            };
            
            const layoutRetention = {
                title: 'Arrhenius Retention Plot',
                xaxis: { title: '1000/T (K⁻¹)', gridcolor: '#333' },
                yaxis: { title: 'log₁₀(Time) [hours]', gridcolor: '#333' },
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(0,0,0,0)',
                font: { color: '#e0e0e0' }
            };
            
            Plotly.newPlot('retention-plot', [retentionTrace], layoutRetention, {responsive: true});
            
            // Endurance - Weibull distribution
            const cycles = [];
            const probability = [];
            for (let i = 4; i <= 9; i += 0.1) {
                cycles.push(i);
                probability.push(1 - Math.exp(-Math.pow(Math.pow(10, i)/1e7, 2)));
            }
            
            const enduranceTrace = {
                x: cycles,
                y: probability,
                type: 'scatter',
                mode: 'lines',
                name: 'Failure Probability',
                line: { color: '#ff6b6b', width: 3 }
            };
            
            const layoutEndurance = {
                title: 'Weibull Endurance Distribution',
                xaxis: { title: 'log₁₀(Cycles)', gridcolor: '#333' },
                yaxis: { title: 'Cumulative Failure Probability', gridcolor: '#333' },
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(0,0,0,0)',
                font: { color: '#e0e0e0' }
            };
            
            Plotly.newPlot('endurance-plot', [enduranceTrace], layoutEndurance, {responsive: true});
            
            // Update results
            const retentionTime = 1e10 * Math.exp(Ea * 11600 / storageTemp);
            const retentionYears = retentionTime / (365 * 24 * 3600);
            
            document.getElementById('retention-result').textContent = 
                retentionYears > targetYears ? 'PASS' : 'FAIL';
            document.getElementById('endurance-result').textContent = '10⁷ cycles';
            document.getElementById('failure-rate').textContent = '0.1% per 10⁶ cycles';
        }
        
        window.addEventListener('load', analyzeReliability);
    </script>
</body>
</html>