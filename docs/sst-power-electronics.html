<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solid-State Transformer Platform - Advanced SiC/GaN Power Electronics</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #00d4ff;
            --secondary: #0099cc;
            --accent: #00ff88;
            --danger: #ff3366;
            --warning: #ffaa00;
            --dark: #0a0f1c;
            --light: #f0f4f8;
            --sic: #9966ff;
            --gan: #00ff99;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #0a0f1c 0%, #1a2332 50%, #0a0f1c 100%);
            color: var(--light);
            min-height: 100vh;
        }

        /* Safety Banner */
        .safety-banner {
            background: repeating-linear-gradient(
                45deg,
                #ffaa00,
                #ffaa00 20px,
                #000000 20px,
                #000000 40px
            );
            padding: 12px;
            text-align: center;
            font-weight: bold;
            color: black;
            position: sticky;
            top: 0;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
        }

        .safety-banner i {
            color: #dc2626;
            font-size: 1.2rem;
        }

        /* Header */
        .header {
            background: rgba(10, 15, 28, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 2px solid var(--primary);
            padding: 1.5rem 2rem;
        }

        .nav-container {
            max-width: 1600px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 1rem;
            font-size: 1.8rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .logo i {
            font-size: 2.5rem;
            color: var(--primary);
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        .nav-links a {
            color: var(--light);
            text-decoration: none;
            transition: all 0.3s;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
        }

        .nav-links a:hover {
            background: rgba(0, 212, 255, 0.1);
            color: var(--primary);
        }

        /* Hero Section */
        .hero {
            padding: 5rem 2rem;
            text-align: center;
            background: radial-gradient(circle at center, rgba(0, 212, 255, 0.1) 0%, transparent 70%);
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(from 0deg at 50% 50%, transparent, var(--primary), transparent);
            animation: rotate 20s linear infinite;
            opacity: 0.1;
        }

        @keyframes rotate {
            100% { transform: rotate(360deg); }
        }

        .hero h1 {
            font-size: 4rem;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 50%, var(--sic) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            position: relative;
            z-index: 1;
        }

        .hero p {
            font-size: 1.5rem;
            color: #94a3b8;
            margin-bottom: 3rem;
            position: relative;
            z-index: 1;
        }

        /* SST Architecture Diagram */
        .sst-architecture {
            padding: 4rem 2rem;
            max-width: 1600px;
            margin: 0 auto;
        }

        .architecture-container {
            background: rgba(26, 35, 50, 0.8);
            border: 2px solid var(--primary);
            border-radius: 1rem;
            padding: 3rem;
            position: relative;
        }

        .stage-flow {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 2rem;
            align-items: center;
            margin-bottom: 3rem;
        }

        .stage-block {
            background: linear-gradient(135deg, rgba(0, 212, 255, 0.1) 0%, rgba(0, 255, 136, 0.1) 100%);
            border: 2px solid var(--primary);
            border-radius: 1rem;
            padding: 2rem;
            text-align: center;
            transition: all 0.3s;
            position: relative;
        }

        .stage-block:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 212, 255, 0.3);
        }

        .stage-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: var(--accent);
        }

        .stage-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: white;
        }

        .stage-desc {
            font-size: 0.9rem;
            color: #94a3b8;
        }

        .arrow-block {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: var(--primary);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.2); }
        }

        /* Features Grid */
        .features {
            padding: 4rem 2rem;
            background: rgba(10, 15, 28, 0.5);
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            max-width: 1600px;
            margin: 0 auto;
        }

        .feature-card {
            background: rgba(26, 35, 50, 0.6);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 1rem;
            padding: 2rem;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, var(--primary), var(--accent), var(--primary));
            animation: slide 3s linear infinite;
        }

        @keyframes slide {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .feature-card:hover {
            transform: translateY(-5px);
            border-color: var(--accent);
            box-shadow: 0 20px 40px rgba(0, 255, 136, 0.2);
        }

        /* Interactive Controls */
        .control-panel {
            padding: 4rem 2rem;
            max-width: 1600px;
            margin: 0 auto;
        }

        .control-container {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 2rem;
        }

        .controls {
            background: rgba(26, 35, 50, 0.8);
            border: 1px solid var(--primary);
            border-radius: 1rem;
            padding: 2rem;
        }

        .control-group {
            margin-bottom: 2rem;
        }

        .control-label {
            display: block;
            color: var(--primary);
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .slider {
            width: 100%;
            height: 40px;
            -webkit-appearance: none;
            appearance: none;
            background: rgba(0, 212, 255, 0.1);
            border-radius: 20px;
            outline: none;
            padding: 0 10px;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: var(--primary);
            border-radius: 50%;
            cursor: pointer;
        }

        .control-value {
            text-align: center;
            color: var(--accent);
            font-size: 1.2rem;
            font-weight: bold;
            margin-top: 0.5rem;
        }

        .visualization {
            background: rgba(10, 15, 28, 0.9);
            border: 1px solid var(--primary);
            border-radius: 1rem;
            padding: 2rem;
            height: 600px;
        }

        /* Device Comparison */
        .device-comparison {
            padding: 4rem 2rem;
            background: rgba(10, 15, 28, 0.5);
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        .device-card {
            background: rgba(26, 35, 50, 0.8);
            border-radius: 1rem;
            padding: 2rem;
            position: relative;
            overflow: hidden;
        }

        .sic-card {
            border: 2px solid var(--sic);
            background: linear-gradient(135deg, rgba(153, 102, 255, 0.05) 0%, rgba(153, 102, 255, 0.1) 100%);
        }

        .gan-card {
            border: 2px solid var(--gan);
            background: linear-gradient(135deg, rgba(0, 255, 153, 0.05) 0%, rgba(0, 255, 153, 0.1) 100%);
        }

        .device-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 2rem;
        }

        .device-title {
            font-size: 2rem;
            font-weight: bold;
        }

        .sic-title {
            color: var(--sic);
        }

        .gan-title {
            color: var(--gan);
        }

        .device-metrics {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
        }

        .metric {
            background: rgba(0, 0, 0, 0.3);
            padding: 1rem;
            border-radius: 0.5rem;
        }

        .metric-label {
            color: #94a3b8;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }

        .metric-value {
            font-size: 1.5rem;
            font-weight: bold;
        }

        /* ZVS Map */
        .zvs-map {
            padding: 4rem 2rem;
            max-width: 1600px;
            margin: 0 auto;
        }

        .zvs-container {
            background: rgba(26, 35, 50, 0.8);
            border: 1px solid var(--primary);
            border-radius: 1rem;
            padding: 2rem;
        }

        /* Grid Services */
        .grid-services {
            padding: 4rem 2rem;
            background: rgba(10, 15, 28, 0.5);
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            max-width: 1600px;
            margin: 0 auto;
        }

        .service-card {
            background: rgba(26, 35, 50, 0.6);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 1rem;
            padding: 2rem;
            text-align: center;
        }

        .service-icon {
            font-size: 3rem;
            color: var(--accent);
            margin-bottom: 1rem;
        }

        /* Footer */
        .footer {
            background: rgba(10, 15, 28, 0.95);
            padding: 3rem 2rem;
            margin-top: 4rem;
            border-top: 2px solid var(--primary);
        }

        .section-title {
            text-align: center;
            font-size: 3rem;
            margin-bottom: 3rem;
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.5rem;
            }

            .stage-flow {
                grid-template-columns: 1fr;
            }

            .arrow-block {
                transform: rotate(90deg);
            }

            .control-container {
                grid-template-columns: 1fr;
            }

            .comparison-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Safety Warning -->
    <div class="safety-banner">
        <i class="fas fa-bolt"></i>
        MEDIUM VOLTAGE WARNING - LETHAL VOLTAGES PRESENT
        <i class="fas fa-exclamation-triangle"></i>
        QUALIFIED PERSONNEL ONLY - LOCKOUT/TAGOUT REQUIRED
        <i class="fas fa-skull-crossbones"></i>
    </div>

    <!-- Header -->
    <header class="header">
        <nav class="nav-container">
            <div class="logo">
                <i class="fas fa-transformer"></i>
                <span>SST Platform</span>
            </div>
            <ul class="nav-links">
                <li><a href="#architecture">Architecture</a></li>
                <li><a href="#dab-designer">DAB Designer</a></li>
                <li><a href="#mft-calculator">MFT Calculator</a></li>
                <li><a href="#zvs-analyzer">ZVS Analyzer</a></li>
                <li><a href="#grid-services">Grid Services</a></li>
                <li><a href="#hil-bench">HIL Bench</a></li>
            </ul>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <h1>Solid-State Transformer Platform</h1>
        <p>Advanced SiC/GaN Medium-Frequency Power Conversion for EV DCFC & Grid Integration</p>
        <div style="display: flex; gap: 2rem; justify-content: center; margin-top: 3rem;">
            <a href="#demo" class="btn" style="padding: 1rem 2rem; background: linear-gradient(135deg, var(--primary), var(--accent)); color: black; text-decoration: none; border-radius: 0.5rem; font-weight: bold; display: inline-flex; align-items: center; gap: 0.5rem;">
                <i class="fas fa-play"></i>
                Live Demo
            </a>
            <a href="#docs" class="btn" style="padding: 1rem 2rem; background: rgba(255, 255, 255, 0.1); color: white; text-decoration: none; border-radius: 0.5rem; font-weight: bold; border: 1px solid var(--primary);">
                <i class="fas fa-book"></i>
                Documentation
            </a>
        </div>
    </section>

    <!-- SST Architecture -->
    <section class="sst-architecture" id="architecture">
        <h2 class="section-title">3-Stage SST Architecture</h2>
        <div class="architecture-container">
            <div class="stage-flow">
                <div class="stage-block">
                    <i class="fas fa-plug stage-icon"></i>
                    <div class="stage-title">MV AC Input</div>
                    <div class="stage-desc">4.16kV / 13.8kV<br>3-Phase Grid</div>
                </div>
                
                <div class="arrow-block">→</div>
                
                <div class="stage-block">
                    <i class="fas fa-exchange-alt stage-icon"></i>
                    <div class="stage-title">Stage 1: AC-DC</div>
                    <div class="stage-desc">3-Level NPC<br>Vienna Rectifier<br>Unity PF</div>
                </div>
                
                <div class="arrow-block">→</div>
                
                <div class="stage-block">
                    <i class="fas fa-sync stage-icon"></i>
                    <div class="stage-title">Stage 2: DAB</div>
                    <div class="stage-desc">Dual Active Bridge<br>MF Transformer<br>50kHz Isolation</div>
                </div>
                
                <div class="arrow-block">→</div>
                
                <div class="stage-block">
                    <i class="fas fa-battery-full stage-icon"></i>
                    <div class="stage-title">Stage 3: DC/AC</div>
                    <div class="stage-desc">LV Inverter<br>400-1000V DC<br>Grid Services</div>
                </div>
            </div>

            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 2rem; margin-top: 3rem;">
                <div class="metric" style="background: rgba(0, 212, 255, 0.1); padding: 1.5rem; border-radius: 0.5rem; text-align: center;">
                    <div style="color: var(--primary); font-size: 2rem; font-weight: bold;">98.5%</div>
                    <div style="color: #94a3b8;">Peak Efficiency</div>
                </div>
                <div class="metric" style="background: rgba(0, 255, 136, 0.1); padding: 1.5rem; border-radius: 0.5rem; text-align: center;">
                    <div style="color: var(--accent); font-size: 2rem; font-weight: bold;">350kW</div>
                    <div style="color: #94a3b8;">Power Rating</div>
                </div>
                <div class="metric" style="background: rgba(153, 102, 255, 0.1); padding: 1.5rem; border-radius: 0.5rem; text-align: center;">
                    <div style="color: var(--sic); font-size: 2rem; font-weight: bold;">50kHz</div>
                    <div style="color: #94a3b8;">MF Transformer</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features -->
    <section class="features">
        <h2 class="section-title">Advanced Capabilities</h2>
        <div class="features-grid">
            <div class="feature-card">
                <i class="fas fa-microchip" style="font-size: 3rem; color: var(--sic); margin-bottom: 1rem;"></i>
                <h3 style="margin-bottom: 1rem;">SiC/GaN Device Models</h3>
                <p style="color: #94a3b8;">Nonlinear Coss(v), temperature-dependent Rds_on, dynamic switching losses with Qrr modeling</p>
            </div>
            <div class="feature-card">
                <i class="fas fa-wave-square" style="font-size: 3rem; color: var(--accent); margin-bottom: 1rem;"></i>
                <h3 style="margin-bottom: 1rem;">DAB Control</h3>
                <p style="color: #94a3b8;">Single & Triple Phase-Shift control with ZVS optimization and circulating current minimization</p>
            </div>
            <div class="feature-card">
                <i class="fas fa-fire" style="font-size: 3rem; color: var(--warning); margin-bottom: 1rem;"></i>
                <h3 style="margin-bottom: 1rem;">Thermal Management</h3>
                <p style="color: #94a3b8;">Cauer ladder thermal networks, core loss via iGSE, winding loss with skin/proximity effects</p>
            </div>
            <div class="feature-card">
                <i class="fas fa-network-wired" style="font-size: 3rem; color: var(--primary); margin-bottom: 1rem;"></i>
                <h3 style="margin-bottom: 1rem;">Grid Services</h3>
                <p style="color: #94a3b8;">IEEE-1547 compliant, Volt-VAR/Volt-Watt, ride-through, black-start capability</p>
            </div>
            <div class="feature-card">
                <i class="fas fa-brain" style="font-size: 3rem; color: var(--gan); margin-bottom: 1rem;"></i>
                <h3 style="margin-bottom: 1rem;">ML Optimization</h3>
                <p style="color: #94a3b8;">Loss optimizer, PHM for MFT hotspots, MPC for circulating current control</p>
            </div>
            <div class="feature-card">
                <i class="fas fa-shield-alt" style="font-size: 3rem; color: var(--danger); margin-bottom: 1rem;"></i>
                <h3 style="margin-bottom: 1rem;">Safety Systems</h3>
                <p style="color: #94a3b8;">ZVS corridor enforcement, E-STOP to safe state, thermal derating, fault ride-through</p>
            </div>
        </div>
    </section>

    <!-- Interactive DAB Control -->
    <section class="control-panel" id="dab-designer">
        <h2 class="section-title">DAB Designer & Control</h2>
        <div class="control-container">
            <div class="controls">
                <h3 style="color: var(--primary); margin-bottom: 2rem;">Control Parameters</h3>
                
                <div class="control-group">
                    <label class="control-label">Phase Shift φ (degrees)</label>
                    <input type="range" class="slider" id="phaseShift" min="-90" max="90" value="30">
                    <div class="control-value" id="phaseValue">30°</div>
                </div>

                <div class="control-group">
                    <label class="control-label">Switching Frequency (kHz)</label>
                    <input type="range" class="slider" id="frequency" min="20" max="100" value="50">
                    <div class="control-value" id="freqValue">50 kHz</div>
                </div>

                <div class="control-group">
                    <label class="control-label">Leakage Inductance (μH)</label>
                    <input type="range" class="slider" id="leakage" min="5" max="50" value="20">
                    <div class="control-value" id="leakageValue">20 μH</div>
                </div>

                <div style="margin-top: 3rem; padding: 1rem; background: rgba(0, 255, 136, 0.1); border-radius: 0.5rem;">
                    <h4 style="color: var(--accent); margin-bottom: 1rem;">ZVS Status</h4>
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <div id="zvsIndicator" style="width: 30px; height: 30px; border-radius: 50%; background: var(--accent);"></div>
                        <span id="zvsText" style="color: white;">ZVS Achieved</span>
                    </div>
                </div>

                <div style="margin-top: 2rem;">
                    <h4 style="color: var(--primary); margin-bottom: 1rem;">Power Transfer</h4>
                    <div style="font-size: 2rem; color: var(--accent); font-weight: bold;" id="powerValue">175 kW</div>
                </div>
            </div>

            <div class="visualization">
                <div id="dabWaveforms" style="height: 100%;"></div>
            </div>
        </div>
    </section>

    <!-- Device Comparison -->
    <section class="device-comparison">
        <h2 class="section-title">SiC vs GaN Device Comparison</h2>
        <div class="comparison-grid">
            <div class="device-card sic-card">
                <div class="device-header">
                    <h3 class="device-title sic-title">SiC MOSFET</h3>
                    <i class="fas fa-microchip" style="font-size: 2rem; color: var(--sic);"></i>
                </div>
                <div class="device-metrics">
                    <div class="metric">
                        <div class="metric-label">Voltage Rating</div>
                        <div class="metric-value" style="color: var(--sic);">1200-3300V</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">Rds_on @ 25°C</div>
                        <div class="metric-value" style="color: var(--sic);">45 mΩ</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">Switching Loss</div>
                        <div class="metric-value" style="color: var(--sic);">0.8 mJ</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">Max Tj</div>
                        <div class="metric-value" style="color: var(--sic);">175°C</div>
                    </div>
                </div>
                <div style="margin-top: 2rem;">
                    <h4 style="color: var(--sic); margin-bottom: 1rem;">Best For:</h4>
                    <ul style="color: #94a3b8; list-style: none; padding-left: 0;">
                        <li>✓ High voltage applications</li>
                        <li>✓ MV rectifier stages</li>
                        <li>✓ Robust body diode</li>
                        <li>✓ High temperature operation</li>
                    </ul>
                </div>
            </div>

            <div class="device-card gan-card">
                <div class="device-header">
                    <h3 class="device-title gan-title">GaN HEMT</h3>
                    <i class="fas fa-microchip" style="font-size: 2rem; color: var(--gan);"></i>
                </div>
                <div class="device-metrics">
                    <div class="metric">
                        <div class="metric-label">Voltage Rating</div>
                        <div class="metric-value" style="color: var(--gan);">650-900V</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">Rds_on @ 25°C</div>
                        <div class="metric-value" style="color: var(--gan);">25 mΩ</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">Switching Loss</div>
                        <div class="metric-value" style="color: var(--gan);">0.2 mJ</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">Max Tj</div>
                        <div class="metric-value" style="color: var(--gan);">150°C</div>
                    </div>
                </div>
                <div style="margin-top: 2rem;">
                    <h4 style="color: var(--gan); margin-bottom: 1rem;">Best For:</h4>
                    <ul style="color: #94a3b8; list-style: none; padding-left: 0;">
                        <li>✓ High frequency operation</li>
                        <li>✓ LV DAB stages</li>
                        <li>✓ Zero reverse recovery</li>
                        <li>✓ Minimal gate charge</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- ZVS Map -->
    <section class="zvs-map" id="zvs-analyzer">
        <h2 class="section-title">ZVS Operating Map</h2>
        <div class="zvs-container">
            <div id="zvsHeatmap" style="height: 500px;"></div>
        </div>
    </section>

    <!-- MFT Calculator -->
    <section class="control-panel" id="mft-calculator">
        <h2 class="section-title">MF Transformer Designer</h2>
        <div class="control-container">
            <div class="controls">
                <h3 style="color: var(--primary); margin-bottom: 2rem;">Core Parameters</h3>
                
                <div class="control-group">
                    <label class="control-label">Core Material</label>
                    <select style="width: 100%; padding: 0.5rem; background: rgba(0, 212, 255, 0.1); color: white; border: 1px solid var(--primary); border-radius: 0.5rem;">
                        <option>3C97 Ferrite</option>
                        <option>N87 Ferrite</option>
                        <option>Nanocrystalline</option>
                        <option>Amorphous</option>
                    </select>
                </div>

                <div class="control-group">
                    <label class="control-label">Core Volume (cm³)</label>
                    <input type="range" class="slider" min="50" max="500" value="200">
                    <div class="control-value">200 cm³</div>
                </div>

                <div class="control-group">
                    <label class="control-label">Turns Ratio</label>
                    <input type="range" class="slider" min="1" max="20" value="10">
                    <div class="control-value">10:1</div>
                </div>

                <div style="margin-top: 2rem; padding: 1rem; background: rgba(255, 170, 0, 0.1); border-radius: 0.5rem;">
                    <h4 style="color: var(--warning); margin-bottom: 1rem;">Thermal Status</h4>
                    <div>Core Loss: <span style="color: var(--accent);">125 W</span></div>
                    <div>Copper Loss: <span style="color: var(--accent);">85 W</span></div>
                    <div>Total Loss: <span style="color: var(--warning);">210 W</span></div>
                    <div>Core Temp: <span style="color: var(--danger);">95°C</span></div>
                </div>
            </div>

            <div class="visualization">
                <div id="mftLosses" style="height: 100%;"></div>
            </div>
        </div>
    </section>

    <!-- Grid Services -->
    <section class="grid-services" id="grid-services">
        <h2 class="section-title">Grid Services & Compliance</h2>
        <div class="services-grid">
            <div class="service-card">
                <i class="fas fa-sync-alt service-icon"></i>
                <h3 style="margin-bottom: 1rem;">Grid-Following</h3>
                <p style="color: #94a3b8;">SRF-PLL synchronization<br>Current control in dq frame<br>Unity power factor</p>
            </div>
            <div class="service-card">
                <i class="fas fa-battery-full service-icon"></i>
                <h3 style="margin-bottom: 1rem;">Grid-Forming</h3>
                <p style="color: #94a3b8;">P-f / Q-V droop control<br>Virtual inertia<br>Black-start capability</p>
            </div>
            <div class="service-card">
                <i class="fas fa-chart-line service-icon"></i>
                <h3 style="margin-bottom: 1rem;">Volt-VAR</h3>
                <p style="color: #94a3b8;">Reactive power control<br>Voltage regulation<br>IEEE-1547 compliant</p>
            </div>
            <div class="service-card">
                <i class="fas fa-shield-alt service-icon"></i>
                <h3 style="margin-bottom: 1rem;">Fault Ride-Through</h3>
                <p style="color: #94a3b8;">LVRT/HVRT capability<br>Frequency support<br>Anti-islanding</p>
            </div>
            <div class="service-card">
                <i class="fas fa-bolt service-icon"></i>
                <h3 style="margin-bottom: 1rem;">DCFC Support</h3>
                <p style="color: #94a3b8;">350kW charging<br>400-1000V DC output<br>CCS/ChaoJi ready</p>
            </div>
            <div class="service-card">
                <i class="fas fa-solar-panel service-icon"></i>
                <h3 style="margin-bottom: 1rem;">PV Integration</h3>
                <p style="color: #94a3b8;">MPPT control<br>Storage interface<br>MV grid intertie</p>
            </div>
        </div>
    </section>

    <!-- HIL Bench -->
    <section class="control-panel" id="hil-bench">
        <h2 class="section-title">HIL Bench Control</h2>
        <div style="background: rgba(255, 51, 102, 0.1); border: 2px solid var(--danger); border-radius: 1rem; padding: 2rem; margin-bottom: 2rem;">
            <div style="display: flex; align-items: center; gap: 2rem;">
                <i class="fas fa-exclamation-triangle" style="font-size: 3rem; color: var(--danger);"></i>
                <div>
                    <h3 style="color: var(--danger); margin-bottom: 0.5rem;">Safety Interlock Status</h3>
                    <p style="color: #94a3b8;">E-STOP: Armed | Pre-charge: Complete | Isolation: OK | Ground Fault: Clear</p>
                </div>
            </div>
        </div>

        <div class="control-container">
            <div class="controls">
                <h3 style="color: var(--primary); margin-bottom: 2rem;">Bench Parameters</h3>
                
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; margin-bottom: 2rem;">
                    <button style="padding: 1rem; background: rgba(0, 255, 136, 0.2); border: 1px solid var(--accent); color: var(--accent); border-radius: 0.5rem; cursor: pointer; font-weight: bold;">
                        ARM SYSTEM
                    </button>
                    <button style="padding: 1rem; background: rgba(255, 51, 102, 0.2); border: 1px solid var(--danger); color: var(--danger); border-radius: 0.5rem; cursor: pointer; font-weight: bold;">
                        E-STOP
                    </button>
                </div>

                <div class="control-group">
                    <label class="control-label">DC Link Voltage (V)</label>
                    <input type="range" class="slider" min="24" max="48" value="48">
                    <div class="control-value">48V</div>
                </div>

                <div class="control-group">
                    <label class="control-label">Load Current (A)</label>
                    <input type="range" class="slider" min="0" max="20" value="10">
                    <div class="control-value">10A</div>
                </div>

                <div style="margin-top: 2rem;">
                    <h4 style="color: var(--primary); margin-bottom: 1rem;">CAN Bus Status</h4>
                    <div style="background: rgba(0, 0, 0, 0.5); padding: 1rem; border-radius: 0.5rem; font-family: monospace; color: var(--accent);">
                        <div>0x230 DAB_CMD: φ=30° fs=50kHz</div>
                        <div>0x231 DAB_STATUS: ZVS=OK I_circ=2.3A</div>
                        <div>0x232 MFT_THERM: Tj=65°C Tcore=78°C</div>
                    </div>
                </div>
            </div>

            <div class="visualization">
                <div id="hilTelemetry" style="height: 100%;"></div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div style="max-width: 1600px; margin: 0 auto; display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem;">
            <div>
                <h4 style="color: var(--primary); margin-bottom: 1rem;">Platform</h4>
                <ul style="list-style: none; padding: 0;">
                    <li style="margin-bottom: 0.5rem;"><a href="#" style="color: #94a3b8; text-decoration: none;">Getting Started</a></li>
                    <li style="margin-bottom: 0.5rem;"><a href="#" style="color: #94a3b8; text-decoration: none;">API Reference</a></li>
                    <li style="margin-bottom: 0.5rem;"><a href="#" style="color: #94a3b8; text-decoration: none;">SST Theory</a></li>
                    <li style="margin-bottom: 0.5rem;"><a href="#" style="color: #94a3b8; text-decoration: none;">Safety Guidelines</a></li>
                </ul>
            </div>
            <div>
                <h4 style="color: var(--primary); margin-bottom: 1rem;">Applications</h4>
                <ul style="list-style: none; padding: 0;">
                    <li style="margin-bottom: 0.5rem;"><a href="#" style="color: #94a3b8; text-decoration: none;">EV DCFC</a></li>
                    <li style="margin-bottom: 0.5rem;"><a href="#" style="color: #94a3b8; text-decoration: none;">Grid Integration</a></li>
                    <li style="margin-bottom: 0.5rem;"><a href="#" style="color: #94a3b8; text-decoration: none;">Microgrids</a></li>
                    <li style="margin-bottom: 0.5rem;"><a href="#" style="color: #94a3b8; text-decoration: none;">PV Systems</a></li>
                </ul>
            </div>
            <div>
                <h4 style="color: var(--primary); margin-bottom: 1rem;">Resources</h4>
                <ul style="list-style: none; padding: 0;">
                    <li style="margin-bottom: 0.5rem;"><a href="#" style="color: #94a3b8; text-decoration: none;">Device Library</a></li>
                    <li style="margin-bottom: 0.5rem;"><a href="#" style="color: #94a3b8; text-decoration: none;">Core Database</a></li>
                    <li style="margin-bottom: 0.5rem;"><a href="#" style="color: #94a3b8; text-decoration: none;">Design Examples</a></li>
                    <li style="margin-bottom: 0.5rem;"><a href="#" style="color: #94a3b8; text-decoration: none;">Test Reports</a></li>
                </ul>
            </div>
        </div>
        <div style="text-align: center; margin-top: 3rem; padding-top: 2rem; border-top: 1px solid rgba(0, 212, 255, 0.2); color: #64748b;">
            <p>© 2024 SST Platform. MIT License.</p>
            <p style="margin-top: 0.5rem; color: var(--danger);">
                <i class="fas fa-exclamation-triangle"></i>
                Medium voltage equipment - Lethal voltages present. Qualified personnel only.
            </p>
        </div>
    </footer>

    <script>
        // DAB Waveforms
        const dabTrace1 = {
            x: [],
            y: [],
            mode: 'lines',
            name: 'Primary Voltage',
            line: { color: '#00d4ff', width: 2 }
        };

        const dabTrace2 = {
            x: [],
            y: [],
            mode: 'lines',
            name: 'Secondary Voltage',
            line: { color: '#00ff88', width: 2 }
        };

        const dabTrace3 = {
            x: [],
            y: [],
            mode: 'lines',
            name: 'Transformer Current',
            line: { color: '#ffaa00', width: 2 }
        };

        // Generate waveform data
        for (let i = 0; i < 1000; i++) {
            const t = i / 1000 * 4 * Math.PI;
            dabTrace1.x.push(t);
            dabTrace1.y.push(Math.sign(Math.sin(t)) * 400);
            dabTrace2.x.push(t);
            dabTrace2.y.push(Math.sign(Math.sin(t - Math.PI/6)) * 40);
            dabTrace3.x.push(t);
            dabTrace3.y.push(10 * Math.sin(t - Math.PI/12));
        }

        const dabLayout = {
            title: 'DAB Waveforms',
            paper_bgcolor: 'rgba(0,0,0,0)',
            plot_bgcolor: 'rgba(0,0,0,0.3)',
            font: { color: '#94a3b8' },
            xaxis: { title: 'Time (μs)', gridcolor: 'rgba(0, 212, 255, 0.1)' },
            yaxis: { title: 'Voltage (V) / Current (A)', gridcolor: 'rgba(0, 212, 255, 0.1)' },
            showlegend: true,
            legend: { x: 0.7, y: 1 }
        };

        Plotly.newPlot('dabWaveforms', [dabTrace1, dabTrace2, dabTrace3], dabLayout, {displayModeBar: false});

        // ZVS Heatmap
        const zvsData = [{
            z: [],
            x: [],
            y: [],
            type: 'heatmap',
            colorscale: [
                [0, '#ff3366'],
                [0.5, '#ffaa00'],
                [1, '#00ff88']
            ],
            colorbar: {
                title: 'ZVS Margin',
                titleside: 'right'
            }
        }];

        // Generate ZVS map data
        for (let i = 0; i < 50; i++) {
            zvsData[0].y.push(i * 2);
            const row = [];
            for (let j = 0; j < 50; j++) {
                if (i === 0) zvsData[0].x.push(j * 4);
                const zvs = Math.exp(-((i-25)**2 + (j-25)**2) / 200);
                row.push(zvs);
            }
            zvsData[0].z.push(row);
        }

        const zvsLayout = {
            title: 'ZVS Operating Region',
            paper_bgcolor: 'rgba(0,0,0,0)',
            plot_bgcolor: 'rgba(0,0,0,0.3)',
            font: { color: '#94a3b8' },
            xaxis: { title: 'Output Power (kW)' },
            yaxis: { title: 'Input Voltage (V)' }
        };

        Plotly.newPlot('zvsHeatmap', zvsData, zvsLayout, {displayModeBar: false});

        // MFT Losses Pie Chart
        const mftData = [{
            values: [125, 85, 15, 10],
            labels: ['Core Loss', 'Copper Loss', 'Stray Loss', 'Other'],
            type: 'pie',
            hole: 0.4,
            marker: {
                colors: ['#ff3366', '#ffaa00', '#00d4ff', '#00ff88']
            }
        }];

        const mftLayout = {
            title: 'MFT Loss Distribution',
            paper_bgcolor: 'rgba(0,0,0,0)',
            plot_bgcolor: 'rgba(0,0,0,0)',
            font: { color: '#94a3b8' },
            showlegend: true
        };

        Plotly.newPlot('mftLosses', mftData, mftLayout, {displayModeBar: false});

        // HIL Telemetry
        const hilTrace = {
            x: [],
            y: [],
            mode: 'lines',
            name: 'DC Link Voltage',
            line: { color: '#00d4ff', width: 2 }
        };

        for (let i = 0; i < 500; i++) {
            hilTrace.x.push(i * 0.1);
            hilTrace.y.push(48 + 2 * Math.sin(i * 0.1) + 0.5 * Math.random());
        }

        const hilLayout = {
            title: 'Real-Time HIL Telemetry',
            paper_bgcolor: 'rgba(0,0,0,0)',
            plot_bgcolor: 'rgba(0,0,0,0.3)',
            font: { color: '#94a3b8' },
            xaxis: { title: 'Time (s)', gridcolor: 'rgba(0, 212, 255, 0.1)' },
            yaxis: { title: 'Voltage (V)', gridcolor: 'rgba(0, 212, 255, 0.1)' }
        };

        Plotly.newPlot('hilTelemetry', [hilTrace], hilLayout, {displayModeBar: false});

        // Interactive Controls
        document.getElementById('phaseShift').addEventListener('input', function(e) {
            document.getElementById('phaseValue').textContent = e.target.value + '°';
            updatePower();
        });

        document.getElementById('frequency').addEventListener('input', function(e) {
            document.getElementById('freqValue').textContent = e.target.value + ' kHz';
            updatePower();
        });

        document.getElementById('leakage').addEventListener('input', function(e) {
            document.getElementById('leakageValue').textContent = e.target.value + ' μH';
            updatePower();
        });

        function updatePower() {
            const phi = parseFloat(document.getElementById('phaseShift').value);
            const fs = parseFloat(document.getElementById('frequency').value);
            const llk = parseFloat(document.getElementById('leakage').value);
            
            // Simplified DAB power equation
            const power = Math.abs(350 * phi / 90 * (1 - Math.abs(phi) / 180));
            document.getElementById('powerValue').textContent = power.toFixed(0) + ' kW';
            
            // Update ZVS indicator
            const zvsAchieved = Math.abs(phi) > 10 && Math.abs(phi) < 70;
            const indicator = document.getElementById('zvsIndicator');
            const text = document.getElementById('zvsText');
            
            if (zvsAchieved) {
                indicator.style.background = 'var(--accent)';
                text.textContent = 'ZVS Achieved';
            } else {
                indicator.style.background = 'var(--danger)';
                text.textContent = 'Hard Switching';
            }
        }
    </script>
</body>
</html>