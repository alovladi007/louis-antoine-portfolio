<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S-Parameters Analysis - Metamaterials</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
            color: #ffffff;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        h1 {
            text-align: center;
            font-size: 3em;
            margin-bottom: 30px;
            color: #ffd700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        
        .panel {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        h2 {
            color: #ffd700;
            margin-bottom: 20px;
            font-size: 2em;
            border-bottom: 2px solid rgba(255,215,0,0.3);
            padding-bottom: 10px;
        }
        
        h3 {
            color: #87ceeb;
            margin: 20px 0 15px 0;
            font-size: 1.4em;
        }
        
        /* S-Parameter Visualization */
        .sparam-display {
            background: #000;
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            position: relative;
            min-height: 400px;
        }
        
        .smith-chart {
            width: 350px;
            height: 350px;
            margin: 0 auto;
            background: radial-gradient(circle at center, 
                transparent 40px,
                rgba(255,255,255,0.1) 40px,
                transparent 41px,
                transparent 80px,
                rgba(255,255,255,0.1) 80px,
                transparent 81px,
                transparent 120px,
                rgba(255,255,255,0.1) 120px,
                transparent 121px,
                transparent 160px,
                rgba(255,255,255,0.1) 160px,
                transparent 161px
            );
            border: 2px solid #ffd700;
            border-radius: 50%;
            position: relative;
        }
        
        .smith-chart::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            background: rgba(255,255,255,0.3);
        }
        
        .smith-chart::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 1px;
            background: rgba(255,255,255,0.3);
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        .data-table th {
            background: rgba(255,215,0,0.2);
            padding: 15px;
            text-align: left;
            border: 1px solid rgba(255,255,255,0.3);
            font-weight: 600;
        }
        
        .data-table td {
            padding: 12px 15px;
            border: 1px solid rgba(255,255,255,0.2);
            background: rgba(0,0,0,0.3);
        }
        
        .data-table tr:hover td {
            background: rgba(255,255,255,0.05);
        }
        
        /* Frequency Response Plot */
        .freq-plot {
            background: linear-gradient(to bottom, rgba(0,0,0,0.8), rgba(0,0,0,0.5));
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            min-height: 300px;
            position: relative;
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .plot-grid {
            position: absolute;
            top: 20px;
            left: 50px;
            right: 20px;
            bottom: 50px;
            background-image: 
                repeating-linear-gradient(0deg, rgba(255,255,255,0.05) 0px, transparent 1px, transparent 40px, rgba(255,255,255,0.05) 40px),
                repeating-linear-gradient(90deg, rgba(255,255,255,0.05) 0px, transparent 1px, transparent 40px, rgba(255,255,255,0.05) 40px);
        }
        
        .plot-line-s11 {
            position: absolute;
            bottom: 50px;
            left: 50px;
            right: 20px;
            height: 200px;
            background: linear-gradient(to right, 
                transparent 0%, 
                transparent 10%,
                rgba(255,0,0,0.5) 10%,
                rgba(255,0,0,0.5) 30%,
                transparent 30%,
                transparent 70%,
                rgba(255,0,0,0.5) 70%,
                rgba(255,0,0,0.5) 90%,
                transparent 90%
            );
            border-bottom: 2px solid #ff4444;
        }
        
        .plot-line-s21 {
            position: absolute;
            bottom: 100px;
            left: 50px;
            right: 20px;
            height: 150px;
            background: linear-gradient(to right,
                transparent 0%,
                transparent 20%,
                rgba(0,255,0,0.5) 20%,
                rgba(0,255,0,0.5) 80%,
                transparent 80%
            );
            border-bottom: 2px solid #00ff00;
        }
        
        .axis-label {
            position: absolute;
            color: rgba(255,255,255,0.7);
            font-size: 0.9em;
        }
        
        .x-label {
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .y-label {
            left: 10px;
            top: 50%;
            transform: rotate(-90deg) translateX(-50%);
            transform-origin: left center;
        }
        
        /* Parameter Cards */
        .param-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .param-card {
            background: rgba(0,0,0,0.5);
            border: 1px solid rgba(255,215,0,0.3);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
        }
        
        .param-value {
            font-size: 2.5em;
            color: #ffd700;
            margin: 10px 0;
            font-weight: bold;
        }
        
        .param-label {
            color: rgba(255,255,255,0.8);
            font-size: 1.1em;
        }
        
        .param-unit {
            color: #87ceeb;
            font-size: 0.8em;
        }
        
        /* Equations */
        .equation-box {
            background: rgba(0,0,0,0.7);
            border-left: 4px solid #ffd700;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 1.1em;
        }
        
        .equation-title {
            color: #ffd700;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        /* Legend */
        .legend {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 20px 0;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .legend-color {
            width: 30px;
            height: 3px;
        }
        
        .info-box {
            background: rgba(135,206,235,0.1);
            border: 1px solid rgba(135,206,235,0.3);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .highlight {
            background: linear-gradient(135deg, rgba(255,215,0,0.2), rgba(255,255,255,0.1));
            border: 2px solid gold;
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìä S-Parameters Analysis</h1>
        
        <div class="highlight">
            <h2 style="border: none; margin-bottom: 10px;">Scattering Parameters for Metamaterial Characterization</h2>
            <p>Complete S-parameter analysis showing reflection (S11) and transmission (S21) characteristics</p>
        </div>
        
        <!-- S-Parameter Overview -->
        <div class="panel">
            <h2>S-Parameter Fundamentals</h2>
            
            <div class="equation-box">
                <div class="equation-title">S-Parameter Definition:</div>
                [b‚ÇÅ]   [S‚ÇÅ‚ÇÅ  S‚ÇÅ‚ÇÇ] [a‚ÇÅ]<br>
                [b‚ÇÇ] = [S‚ÇÇ‚ÇÅ  S‚ÇÇ‚ÇÇ] [a‚ÇÇ]<br><br>
                
                Where:<br>
                ‚Ä¢ a‚ÇÅ, a‚ÇÇ = incident wave amplitudes<br>
                ‚Ä¢ b‚ÇÅ, b‚ÇÇ = reflected wave amplitudes<br>
                ‚Ä¢ S‚ÇÅ‚ÇÅ = input reflection coefficient<br>
                ‚Ä¢ S‚ÇÇ‚ÇÅ = forward transmission coefficient<br>
                ‚Ä¢ S‚ÇÅ‚ÇÇ = reverse transmission coefficient<br>
                ‚Ä¢ S‚ÇÇ‚ÇÇ = output reflection coefficient
            </div>
            
            <h3>Physical Interpretation</h3>
            <div class="param-grid">
                <div class="param-card">
                    <div class="param-label">Reflection Coefficient</div>
                    <div class="param-value">S‚ÇÅ‚ÇÅ</div>
                    <div class="param-unit">Input port voltage reflection</div>
                </div>
                <div class="param-card">
                    <div class="param-label">Transmission Coefficient</div>
                    <div class="param-value">S‚ÇÇ‚ÇÅ</div>
                    <div class="param-unit">Forward voltage gain</div>
                </div>
                <div class="param-card">
                    <div class="param-label">Insertion Loss</div>
                    <div class="param-value">-3.5 dB</div>
                    <div class="param-unit">20 log‚ÇÅ‚ÇÄ|S‚ÇÇ‚ÇÅ|</div>
                </div>
                <div class="param-card">
                    <div class="param-label">Return Loss</div>
                    <div class="param-value">-15 dB</div>
                    <div class="param-unit">20 log‚ÇÅ‚ÇÄ|S‚ÇÅ‚ÇÅ|</div>
                </div>
            </div>
        </div>
        
        <!-- Frequency Response -->
        <div class="panel">
            <h2>Frequency Response</h2>
            
            <div class="freq-plot">
                <div class="plot-grid"></div>
                <div class="plot-line-s11"></div>
                <div class="plot-line-s21"></div>
                <span class="axis-label x-label">Frequency (THz)</span>
                <span class="axis-label y-label">Magnitude (dB)</span>
            </div>
            
            <div class="legend">
                <div class="legend-item">
                    <div class="legend-color" style="background: #ff4444;"></div>
                    <span>S‚ÇÅ‚ÇÅ (Reflection)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #00ff00;"></div>
                    <span>S‚ÇÇ‚ÇÅ (Transmission)</span>
                </div>
            </div>
        </div>
        
        <!-- Smith Chart -->
        <div class="panel">
            <h2>Smith Chart Representation</h2>
            
            <div class="sparam-display">
                <div class="smith-chart"></div>
                <p style="text-align: center; margin-top: 20px; color: rgba(255,255,255,0.8);">
                    Impedance and reflection coefficient visualization on the Smith chart
                </p>
            </div>
            
            <div class="info-box">
                <h3>Smith Chart Reading:</h3>
                <ul style="margin-left: 20px; line-height: 1.8;">
                    <li>Center point (0,0) = Perfect match (Z = Z‚ÇÄ)</li>
                    <li>Right edge (+1,0) = Open circuit</li>
                    <li>Left edge (-1,0) = Short circuit</li>
                    <li>Unit circle = Lossless components</li>
                    <li>Inside circle = Passive components (|Œì| < 1)</li>
                </ul>
            </div>
        </div>
        
        <!-- Measured Data Table -->
        <div class="panel">
            <h2>Measured S-Parameters</h2>
            
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Frequency (THz)</th>
                        <th>S‚ÇÅ‚ÇÅ Magnitude</th>
                        <th>S‚ÇÅ‚ÇÅ Phase (¬∞)</th>
                        <th>S‚ÇÇ‚ÇÅ Magnitude</th>
                        <th>S‚ÇÇ‚ÇÅ Phase (¬∞)</th>
                        <th>VSWR</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>0.5</td>
                        <td>0.316 (-10 dB)</td>
                        <td>45</td>
                        <td>0.891 (-1 dB)</td>
                        <td>-30</td>
                        <td>1.92</td>
                    </tr>
                    <tr>
                        <td>0.8</td>
                        <td>0.251 (-12 dB)</td>
                        <td>60</td>
                        <td>0.794 (-2 dB)</td>
                        <td>-45</td>
                        <td>1.67</td>
                    </tr>
                    <tr>
                        <td>1.0</td>
                        <td>0.178 (-15 dB)</td>
                        <td>90</td>
                        <td>0.708 (-3 dB)</td>
                        <td>-90</td>
                        <td>1.43</td>
                    </tr>
                    <tr>
                        <td>1.2</td>
                        <td>0.200 (-14 dB)</td>
                        <td>120</td>
                        <td>0.631 (-4 dB)</td>
                        <td>-120</td>
                        <td>1.50</td>
                    </tr>
                    <tr>
                        <td>1.5</td>
                        <td>0.141 (-17 dB)</td>
                        <td>180</td>
                        <td>0.501 (-6 dB)</td>
                        <td>-180</td>
                        <td>1.32</td>
                    </tr>
                    <tr>
                        <td>1.8</td>
                        <td>0.224 (-13 dB)</td>
                        <td>-150</td>
                        <td>0.562 (-5 dB)</td>
                        <td>-150</td>
                        <td>1.58</td>
                    </tr>
                    <tr>
                        <td>2.0</td>
                        <td>0.282 (-11 dB)</td>
                        <td>-120</td>
                        <td>0.708 (-3 dB)</td>
                        <td>-100</td>
                        <td>1.78</td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <!-- Complex S-Parameters -->
        <div class="panel">
            <h2>Complex S-Parameter Analysis</h2>
            
            <div class="equation-box">
                <div class="equation-title">Complex Representation:</div>
                S‚ÇÅ‚ÇÅ = |S‚ÇÅ‚ÇÅ|e^(jœÜ‚ÇÅ‚ÇÅ) = Re(S‚ÇÅ‚ÇÅ) + j¬∑Im(S‚ÇÅ‚ÇÅ)<br>
                S‚ÇÇ‚ÇÅ = |S‚ÇÇ‚ÇÅ|e^(jœÜ‚ÇÇ‚ÇÅ) = Re(S‚ÇÇ‚ÇÅ) + j¬∑Im(S‚ÇÇ‚ÇÅ)<br><br>
                
                Example at 1.0 THz:<br>
                S‚ÇÅ‚ÇÅ = 0.178‚à†90¬∞ = 0 + j0.178<br>
                S‚ÇÇ‚ÇÅ = 0.708‚à†-90¬∞ = 0 - j0.708
            </div>
            
            <h3>Derived Parameters</h3>
            <div class="param-grid">
                <div class="param-card">
                    <div class="param-label">Reflection Coefficient</div>
                    <div class="param-value">Œì = S‚ÇÅ‚ÇÅ</div>
                    <div class="param-unit">0.178‚à†90¬∞</div>
                </div>
                <div class="param-card">
                    <div class="param-label">VSWR</div>
                    <div class="param-value">1.43</div>
                    <div class="param-unit">(1+|Œì|)/(1-|Œì|)</div>
                </div>
                <div class="param-card">
                    <div class="param-label">Impedance</div>
                    <div class="param-value">Z = 58+j25 Œ©</div>
                    <div class="param-unit">Z‚ÇÄ(1+Œì)/(1-Œì)</div>
                </div>
            </div>
        </div>
        
        <!-- Metamaterial Characteristics -->
        <div class="panel">
            <h2>Metamaterial S-Parameter Signatures</h2>
            
            <div class="info-box">
                <h3>Negative Index Band Identification:</h3>
                <p>The S-parameters reveal characteristic signatures of negative index behavior:</p>
                <ul style="margin: 15px 0 0 20px; line-height: 1.8;">
                    <li><strong>Anti-resonance dip</strong> in S‚ÇÅ‚ÇÅ at 1.0 THz indicates strong coupling</li>
                    <li><strong>Phase reversal</strong> in S‚ÇÇ‚ÇÅ confirms backward wave propagation</li>
                    <li><strong>High transmission</strong> despite impedance mismatch suggests negative refraction</li>
                    <li><strong>Group delay</strong> becomes negative in the 0.8-1.5 THz band</li>
                </ul>
            </div>
            
            <div class="equation-box">
                <div class="equation-title">Kramers-Kronig Consistency Check:</div>
                Re[S(œâ)] = (2/œÄ) P ‚à´‚ÇÄ^‚àû [œâ'¬∑Im[S(œâ')]/(œâ'¬≤-œâ¬≤)] dœâ'<br>
                Im[S(œâ)] = -(2œâ/œÄ) P ‚à´‚ÇÄ^‚àû [Re[S(œâ')]/(œâ'¬≤-œâ¬≤)] dœâ'<br><br>
                
                Where P denotes the principal value integral
            </div>
        </div>
        
        <!-- Uncertainty Analysis -->
        <div class="panel">
            <h2>Measurement Uncertainty</h2>
            
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Typical Value</th>
                        <th>Uncertainty</th>
                        <th>Primary Source</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>S‚ÇÅ‚ÇÅ Magnitude</td>
                        <td>-15 dB</td>
                        <td>¬±0.5 dB</td>
                        <td>Calibration accuracy</td>
                    </tr>
                    <tr>
                        <td>S‚ÇÇ‚ÇÅ Magnitude</td>
                        <td>-3 dB</td>
                        <td>¬±0.3 dB</td>
                        <td>Cable loss variation</td>
                    </tr>
                    <tr>
                        <td>Phase</td>
                        <td>90¬∞</td>
                        <td>¬±2¬∞</td>
                        <td>Temperature drift</td>
                    </tr>
                    <tr>
                        <td>Frequency</td>
                        <td>1.0 THz</td>
                        <td>¬±1 GHz</td>
                        <td>Source stability</td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <div class="highlight">
            <h3 style="color: #ffd700;">Key Findings</h3>
            <p>S-parameter measurements confirm negative index behavior in the 0.8-1.5 THz band with minimal losses (FOM > 5)</p>
        </div>
    </div>
</body>
</html>